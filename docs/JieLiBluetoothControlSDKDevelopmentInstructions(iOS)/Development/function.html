<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>2.Function Module Description &mdash; Jieli Home Development Documentation(IOS) v1.6.4 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="https://doc.zh-jieli.com/Apps/static/css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="https://doc.zh-jieli.com/Apps/static/js/custom.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3 Directory Browse" href="browse_desc.html" />
    <link rel="prev" title="1.Access Process" href="import_desc.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Jieli Home Development Documentation(IOS)
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Development framework</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Framework/framework.html">SDK Architecture</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Development description</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="import_desc.html">1.Access Process</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2.Function Module Description</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#basic-functions">2.1 Basic functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#request-device-information">2.1.1 Request device information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#querying-device-system-information">2.1.2 Querying device system information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#monitor-device-status-information">2.1.3 Monitor device status information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#switch-device-mode">2.1.4 Switch device mode</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#volume-control-function">2.2 Volume control function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#device-volume-setting">2.2.1 Device volume setting</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sample-code">2.2.2 Sample code</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#device-music-control">2.3 Device Music Control</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#function-description">2.3.1 Function description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">2.3.2 Sample code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#related-interfaces">2.3.3 Related interfaces</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#equalizer-debugging-function">2.4 Equalizer debugging function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">2.4.1 Function description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id3">2.4.2 Sample code</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#system-eq-commissioning">2.4.2.1 System EQ commissioning</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-reverberation-limiting">2.4.2.2 Set reverberation/limiting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#clock-function">2.5 Clock function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id4">2.5.1 Function description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#use-demo">2.5.2 Use demo</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#synchronization-time">2.5.2.1 Synchronization time</a></li>
<li class="toctree-l4"><a class="reference internal" href="#read-alarm-clock">2.5.2.2 Read alarm clock</a></li>
<li class="toctree-l4"><a class="reference internal" href="#modify-alarm-clock">2.5.2.3 Modify alarm clock</a></li>
<li class="toctree-l4"><a class="reference internal" href="#delete-alarm-clock">2.5.2.4 Delete alarm clock</a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-the-default-ring-tone-selection-list">2.5.2.5 Get the default ring tone selection list</a></li>
<li class="toctree-l4"><a class="reference internal" href="#listen-to-the-alarm-clock-ring-tone">2.5.2.6 Listen to the alarm clock ring tone</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stop-ringing-tone-audition">2.5.2.7 Stop ringing tone audition</a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-alarm-mode-settings">2.5.2.8 Get alarm mode settings</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-alarm-mode">2.5.2.9 Set alarm mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#the-alarm-clock-is-ringing-or-it-stops-ringing">2.5.2.10 The alarm clock is ringing or it stops ringing</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stop-alarm-sound-callback">2.5.2.11 Stop alarm sound callback</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#control-function-of-external-equipment">2.6 Control function of external equipment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id5">2.6.1 Function description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id6">2.6.2 Sample code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#matters-needing-attention">2.6.3 Matters needing attention</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#fm-control-function">2.7 FM control function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id7">2.7.1 Function description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id8">2.7.2 Sample code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id9">2.7.3 Related interfaces</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#light-control-function">2.8 Light control function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id10">2.8.1 Function description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id11">2.8.2 Sample code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id12">2.8.3 Related interfaces</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id3-information-control-function">2.9 ID3 information control function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#control-related-interfaces">2.9.1 Control related interfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="#monitoring-and-usage">2.9.2 Monitoring and usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#equipment-lrc-lyrics-display">2.9.3 Equipment LRC lyrics display</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id13">2.9.3.1 Function description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id14">2.9.3.2 Sample code</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tws-function">2.10 TWS function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id15">2.10.1 Function description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id16">2.10.2 Sample code</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#intelligent-charging-chamber-related">2.10.2.1 Intelligent charging chamber related</a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-a-picture-of-the-device">2.10.2.2 Get a picture of the device</a></li>
<li class="toctree-l4"><a class="reference internal" href="#set-edr-name">2.10.2.3 Set EDR name</a></li>
<li class="toctree-l4"><a class="reference internal" href="#key-setting-opposite-ear">2.10.2.4 Key setting (opposite ear)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#led-setting-opposite-ears">2.10.2.5 LED setting (Opposite ears)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#mic-settings-headset">2.10.2.6 MIC settings (headset)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#operating-mode-headset">2.10.2.7 Operating mode (headset)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#synchronization-timestamp-headset">2.10.2.8 Synchronization timestamp (headset)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-device-information-headset">2.10.2.9 Get device information (headset)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#device-broadcast-notification-headset">2.10.2.10 Device broadcast notification (headset)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#turn-off-or-on-device-radio-headset">2.10.2.11 Turn off or on device radio (headset)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#used-for-adv-to-set-the-behavior-that-requires-host-operation-after-synchronization">2.10.2.12 Used for ADV to set the behavior that requires host operation after synchronization.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#support-for-neck-headset-type">2.10.2.13 Support for neck headset type</a></li>
<li class="toctree-l4"><a class="reference internal" href="#matching-function-of-auxiliary-hearing-earphones">2.10.2.14 Matching function of auxiliary hearing earphones</a></li>
<li class="toctree-l4"><a class="reference internal" href="#one-to-two-headphone-function-support">2.10.2.15 One-to-two headphone function support</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#anc-setting-function">2.11 ANC setting function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id17">2.11.1 Function description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id18">2.11.2 Sample code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#add-anc-active-noise-reduction-to-the-headset-sdk">2.11.3 Add ANC (active noise reduction) to the headset SDK</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sound-card-function-configuration">2.12 Sound card function configuration</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id19">2.12.1 Function description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id20">2.12.2 Sample code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sound-card-effect-settings">2.12.3 Sound card effect settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#find-device-features">2.13 Find device features</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id21">2.13.1 Function description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id22">2.13.2 Sample code</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#user-defined-command-function">2.14 User defined command function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id23">2.14.1 Function description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id24">2.14.2 Sample code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id25">2.14.3 Matters needing attention</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ota">2.15 OTA</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id26">2.15.1 Function description</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id27">2.15.2 Use demo</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#ota-upgrade-file-download">2.15.2.1 OTA upgrade file download</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ota-upgrading-equipment">2.15.2.2 OTA upgrading equipment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ota-upgrade-status">2.15.2.3 OTA upgrade status</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ota-return-results">2.15.2.4 OTA return results</a></li>
<li class="toctree-l4"><a class="reference internal" href="#get-md5-data">2.15.2.5 Get MD5 data</a></li>
<li class="toctree-l4"><a class="reference internal" href="#proofread-the-version-and-obtain-the-upgrade-file">2.15.2.6 Proofread the version and obtain the upgrade file</a></li>
<li class="toctree-l4"><a class="reference internal" href="#perform-ota-upgrade">2.15.2.7 Perform OTA upgrade</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="browse_desc.html">3 Directory Browse</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Other/debug.html">Testing Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Other/version.html">Release Record</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Other/openSourceCommunity.html">Open Source Community</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Jieli Home Development Documentation(IOS)</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>2.Function Module Description</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="function-module-description">
<h1>2.Function Module Description<a class="headerlink" href="#function-module-description" title="Permalink to this headline"></a></h1>
<section id="basic-functions">
<h2>2.1 Basic functions<a class="headerlink" href="#basic-functions" title="Permalink to this headline"></a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>1.The following data models can be viewed through SDK</p>
<p>2.This document only shows some important data models</p>
</div>
<ul class="simple">
<li><dl class="simple">
<dt>Acquire system/state information model</dt><dd><ul>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">JLModel_Device()</span></code> System information change/status acquisition are all obtained through this model</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Alarm clock related model</dt><dd><ul>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">JLModel_Ring()</span></code> Alarm clock ring model</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">JLModel_AlarmSetting()</span></code> Alarm clock setting model</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">RTC_RingInfo()</span></code> Alarm ring detail model, which is not supported by some devices. The actual firmware version needs to be considered</p></li>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">JLModel_RTC()</span></code> Alarm clock RTC model</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Device file model</dt><dd><ul>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">JLModel_File()</span></code> File model, which is used for a series of file operation related functions such as file browsing/playing</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Equipment FM model</dt><dd><ul>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">JLModel_FM()</span></code> FM model</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>TWS headphone parameter model</dt><dd><ul>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">JLModel_Headset()</span></code> TWS headphone parameter model</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Bluetooth related parameter model</dt><dd><ul>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">JLModel_BT()</span></code> Bluetooth related parameter model</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Balanced debugger model</dt><dd><ul>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">JLModel_EQ()</span></code> Balanced debugger model</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>Equipment noise reduction model</dt><dd><ul>
<li><p><code class="xref py py-func docutils literal notranslate"><span class="pre">JLModel_ANC()</span></code> Equipment noise reduction model</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<section id="request-device-information">
<h3>2.1.1 Request device information<a class="headerlink" href="#request-device-information" title="Permalink to this headline"></a></h3>
<p>Get the basic information of the device, including the power of the device, the status of each module of the device, and the mode it is in.</p>
<p>Sample code：</p>
<div class="highlight-objective-c notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="cm">/*--- Get device information ---*/</span><span class="w"></span>
<span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">mBleEntityM</span><span class="p">.</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">cmdTargetFeatureResult</span><span class="o">:^</span><span class="p">(</span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">sn</span><span class="p">,</span><span class="w"> </span><span class="bp">NSData</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">status</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">st</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_CMDStatusSuccess</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">JLModel_Device</span><span class="w"> </span><span class="o">*</span><span class="n">device</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">elf</span><span class="p">.</span><span class="n">mBleEntityM</span><span class="p">.</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">outputDeviceModel</span><span class="p">];</span><span class="w"></span>
<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Device Information：%@&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">device</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}];</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="querying-device-system-information">
<h3>2.1.2 Querying device system information<a class="headerlink" href="#querying-device-system-information" title="Permalink to this headline"></a></h3>
<p>Get the information content of the device system to provide basic information for subsequent operations.</p>
<p>Sample code：</p>
<div class="highlight-objective-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/*--- Querying device system information ---*/</span><span class="w"></span>
<span class="p">[</span><span class="n">wSelf</span><span class="p">.</span><span class="n">mBleEntityM</span><span class="p">.</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">cmdGetSystemInfo</span><span class="o">:</span><span class="n">JL_FunctionCodeCOMMON</span><span class="w"></span>
<span class="w">                                         </span><span class="nl">Result</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">sn</span><span class="p">,</span><span class="w"> </span><span class="bp">NSData</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"></span>
<span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">st</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">status</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">st</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_CMDStatusSuccess</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">JLModel_SystemInfo</span><span class="w"> </span><span class="o">*</span><span class="n">systemInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">elf</span><span class="p">.</span><span class="n">mBleEntityM</span><span class="p">.</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">outputSystemInfoModel</span><span class="p">];</span><span class="w"></span>
<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Equipment system information：%@&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">systemInfo</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}];</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="monitor-device-status-information">
<h3>2.1.3 Monitor device status information<a class="headerlink" href="#monitor-device-status-information" title="Permalink to this headline"></a></h3>
<p>For the change of device status information, you can monitor the change of device status information through KVO and obtain the device status information.</p>
<p>Example code:</p>
<div class="highlight-objective-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/*--- Monitor device status information ---*/</span><span class="w"></span>
<span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">addNote</span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="n">JLModel_Device</span><span class="w"> </span><span class="n">observeModelProperty</span><span class="o">:</span><span class="s">@&quot;currentFunc&quot;</span><span class="w"> </span><span class="n">Action</span><span class="o">:</span><span class="k">@selector</span><span class="p">(</span><span class="n">noteCurrentFunction</span><span class="o">:</span><span class="p">)</span><span class="w"> </span><span class="n">Own</span><span class="o">:</span><span class="nb">self</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">noteCurrentFunction:</span><span class="p">(</span><span class="bp">NSNotification</span><span class="o">*</span><span class="p">)</span><span class="nv">note</span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="kt">BOOL</span><span class="w"> </span><span class="n">isOK</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">isCurrentDeviceCmd</span><span class="o">:</span><span class="n">note</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">isOK</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NO</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="n">JL_EntityM</span><span class="w"> </span><span class="o">*</span><span class="n">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">]</span><span class="w"> </span><span class="n">mBleEntityM</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">JLModel_Device</span><span class="w"> </span><span class="o">*</span><span class="n">devel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">entity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">outputDeviceModel</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">devel</span><span class="p">.</span><span class="n">currentFunc</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_FunctionCodeBT</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Turn off all music on your phones.&quot;</span><span class="p">);</span><span class="w"></span>

<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="switch-device-mode">
<h3>2.1.4 Switch device mode<a class="headerlink" href="#switch-device-mode" title="Permalink to this headline"></a></h3>
<p>Example code:</p>
<div class="highlight-objective-c notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="cm">/*--- Switch device mode ---*/</span><span class="w"></span>
<span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">changeDeviceMode:</span><span class="p">(</span><span class="n">JL_FunctionCode</span><span class="p">)</span><span class="nv">code</span><span class="p">{</span><span class="w"></span>
<span class="w"> </span><span class="n">JL_EntityM</span><span class="w"> </span><span class="o">*</span><span class="n">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">]</span><span class="w"> </span><span class="n">mBleEntityM</span><span class="p">];</span><span class="w"></span>
<span class="w"> </span><span class="p">[</span><span class="n">entity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">cmdFunction</span><span class="o">:</span><span class="n">JL_FunctionCodeCOMMON</span><span class="w"> </span><span class="n">Command</span><span class="o">:</span><span class="n">code</span><span class="w"> </span><span class="n">Extend</span><span class="o">:</span><span class="mh">0x00</span><span class="w"> </span><span class="n">Result</span><span class="o">:^</span><span class="p">(</span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">sn</span><span class="p">,</span><span class="w"> </span><span class="bp">NSData</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">         </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">code</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_FunctionCodeBT</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">             </span><span class="n">LocalMusicVC</span><span class="w"> </span><span class="o">*</span><span class="n">vc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">LocalMusicVC</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">             </span><span class="n">vc</span><span class="p">.</span><span class="n">modalPresentationStyle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">UIModalPresentationFullScreen</span><span class="p">;</span><span class="w"></span>
<span class="w">             </span><span class="p">[</span><span class="nb">self</span><span class="w"> </span><span class="n">presentViewController</span><span class="o">:</span><span class="n">vc</span><span class="w"> </span><span class="n">animated</span><span class="o">:</span><span class="nb">YES</span><span class="w"> </span><span class="n">completion</span><span class="o">:</span><span class="nb">nil</span><span class="p">];</span><span class="w"></span>
<span class="w">         </span><span class="p">}</span><span class="w"></span>
<span class="w">         </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">code</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_FunctionCodeFM</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="p">[</span><span class="n">entity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">cmdGetSystemInfo</span><span class="o">:</span><span class="n">JL_FunctionCodeFM</span><span class="w"> </span><span class="n">Result</span><span class="o">:</span><span class="nb">nil</span><span class="p">];</span><span class="w"></span>
<span class="w">         </span><span class="p">}</span><span class="w"></span>
<span class="w">         </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">code</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_FunctionCodeFMTX</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="p">[</span><span class="n">entity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">cmdGetSystemInfo</span><span class="o">:</span><span class="n">JL_FunctionCodeFMTX</span><span class="w"> </span><span class="n">Result</span><span class="o">:</span><span class="nb">nil</span><span class="p">];</span><span class="w"></span>
<span class="w">         </span><span class="p">}</span><span class="w"></span>
<span class="w">     </span><span class="p">}];</span><span class="w"></span>
<span class="w"> </span><span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
<section id="volume-control-function">
<h2>2.2 Volume control function<a class="headerlink" href="#volume-control-function" title="Permalink to this headline"></a></h2>
<section id="device-volume-setting">
<h3>2.2.1 Device volume setting<a class="headerlink" href="#device-volume-setting" title="Permalink to this headline"></a></h3>
</section>
<section id="sample-code">
<h3>2.2.2 Sample code<a class="headerlink" href="#sample-code" title="Permalink to this headline"></a></h3>
<div class="highlight-objective-c notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="n">JL_EntityM</span><span class="w"> </span><span class="o">*</span><span class="n">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">]</span><span class="w"> </span><span class="n">mBleEntityM</span><span class="p">];</span><span class="w"></span>
<span class="p">[</span><span class="n">entity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="p">.</span><span class="n">mSystemVolume</span><span class="w"> </span><span class="n">cmdSetSystemVolume</span><span class="o">:</span><span class="mi">10</span><span class="w"> </span><span class="n">Result</span><span class="o">:^</span><span class="p">(</span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">sn</span><span class="p">,</span><span class="w"> </span><span class="bp">NSData</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">status</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">state</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_CMDStatusFail</span><span class="p">){</span><span class="w"></span>
<span class="w">         </span><span class="c1">//[DFUITools showText:kJL_TXT(&quot;settings_failed&quot;) onView:self delay:1.0];</span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w"> </span><span class="p">}];</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
<section id="device-music-control">
<h2>2.3 Device Music Control<a class="headerlink" href="#device-music-control" title="Permalink to this headline"></a></h2>
<section id="function-description">
<h3>2.3.1 Function description<a class="headerlink" href="#function-description" title="Permalink to this headline"></a></h3>
<blockquote>
<div><p>When the device is playing SD card or USB flash disk/TF card, it is used for mobile terminal control</p>
</div></blockquote>
</section>
<section id="id1">
<h3>2.3.2 Sample code<a class="headerlink" href="#id1" title="Permalink to this headline"></a></h3>
<div class="highlight-objective-c notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="n">JL_EntityM</span><span class="w"> </span><span class="o">*</span><span class="n">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">]</span><span class="w"> </span><span class="n">mBleEntityM</span><span class="p">];</span><span class="w"></span>
<span class="p">[</span><span class="n">entity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="p">.</span><span class="n">mMusicControlManager</span><span class="w"> </span><span class="n">cmdFastPlay</span><span class="o">:</span><span class="n">JL_FCmdMusicFastBack</span><span class="w"></span>
<span class="w">                                         </span><span class="nl">Second</span><span class="p">:(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="n">fabsf</span><span class="p">((</span><span class="n">pg</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">f_tott</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">f_curt</span><span class="p">))</span><span class="w"></span>
<span class="w">                                         </span><span class="nl">Result</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">sn</span><span class="p">,</span><span class="w"> </span><span class="bp">NSData</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w">  </span><span class="p">{</span><span class="w"></span>
<span class="w">     </span><span class="c1">//progress_sec = (int)(f_tott*pg);</span>
<span class="w">     </span><span class="c1">//NSLog(@&quot;---------------&gt; To Progress Second: %d&quot;,progress_sec);</span>

<span class="w">     </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sv_tott</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">60</span><span class="o">*</span><span class="mi">60</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">         </span><span class="p">[</span><span class="n">JL_Tools</span><span class="w"> </span><span class="n">delay</span><span class="o">:</span><span class="mf">0.6</span><span class="w"> </span><span class="n">Task</span><span class="o">:^</span><span class="p">{</span><span class="w"></span>
<span class="w">             </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;----&gt; delay get music progess 0&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">             </span><span class="p">[</span><span class="nb">self</span><span class="w"> </span><span class="n">getDeviceMusicProgress</span><span class="p">];</span><span class="w"></span>
<span class="w">         </span><span class="p">}];</span><span class="w"></span>
<span class="w">     </span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="w"></span>
<span class="w">         </span><span class="p">[</span><span class="nb">self</span><span class="w"> </span><span class="n">getDeviceMusicProgress</span><span class="p">];</span><span class="w"></span>
<span class="w">     </span><span class="p">}</span><span class="w"></span>
<span class="p">}];</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="related-interfaces">
<h3>2.3.3 Related interfaces<a class="headerlink" href="#related-interfaces" title="Permalink to this headline"></a></h3>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="n">NS_ENUM</span><span class="p">(</span><span class="kt">UInt8</span><span class="p">,</span><span class="w"> </span><span class="n">JL_FCmdMusic</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">JL_FCmdMusicPP</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mh">0x01</span><span class="p">,</span><span class="w"> </span><span class="c1">//PP button</span>
<span class="w">    </span><span class="n">JL_FCmdMusicPREV</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="mh">0x02</span><span class="p">,</span><span class="w"> </span><span class="c1">//Previous song</span>
<span class="w">    </span><span class="n">JL_FCmdMusicNEXT</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="mh">0x03</span><span class="p">,</span><span class="w"> </span><span class="c1">//Next song</span>
<span class="w">    </span><span class="n">JL_FCmdMusicMODE</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="mh">0x04</span><span class="p">,</span><span class="w"> </span><span class="c1">//Change playback mode</span>
<span class="w">    </span><span class="n">JL_FCmdMusicEQ</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mh">0x05</span><span class="p">,</span><span class="w"> </span><span class="c1">//EQ</span>
<span class="w">    </span><span class="n">JL_FCmdMusicFastBack</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="mh">0x06</span><span class="p">,</span><span class="w"> </span><span class="c1">//Fast rewind</span>
<span class="w">    </span><span class="n">JL_FCmdMusicFastPlay</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="mh">0x07</span><span class="p">,</span><span class="w"> </span><span class="c1">//Fast forward</span>
<span class="p">};</span><span class="w"></span>


<span class="n">NS_ASSUME_NONNULL_BEGIN</span><span class="w"></span>

<span class="k">@interface</span> <span class="nc">JL_MusicControlManager</span> : <span class="nc">JL_FunctionBaseManager</span><span class="w"></span>

<span class="cp">#pragma mark ---&gt; Set playback mode</span>
<span class="cm">/**</span>
<span class="cm"> @param mode Pattern</span>
<span class="cm">0x01: All loops; 0x02: Equipment cycle; 0x03: single song cycle; 0x04: random play; 0x05: Folder cycle</span>
<span class="cm"> */</span><span class="w"></span>
<span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdSetSystemPlayMode:</span><span class="p">(</span><span class="n">JL_MusicMode</span><span class="p">)</span><span class="nv">mode</span><span class="p">;</span><span class="w"></span>

<span class="cp">#pragma mark ---&gt; Fast forward and fast backward</span>
<span class="cm">/**</span>
<span class="cm"> @param cmd Fast forward or rewind enumeration</span>
<span class="cm"> @param sec Time</span>
<span class="cm"> @param result Return Results</span>
<span class="cm"> */</span><span class="w"></span>
<span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdFastPlay:</span><span class="p">(</span><span class="n">JL_FCmdMusic</span><span class="p">)</span><span class="nv">cmd</span><span class="w"></span>
<span class="w">            </span><span class="nl">Second</span><span class="p">:(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="nv">sec</span><span class="w"></span>
<span class="w">            </span><span class="nl">Result</span><span class="p">:(</span><span class="n">JL_CMD_RESPOND</span><span class="w"> </span><span class="n">__nullable</span><span class="p">)</span><span class="nv">result</span><span class="p">;</span><span class="w"></span>

<span class="k">@end</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
<section id="equalizer-debugging-function">
<h2>2.4 Equalizer debugging function<a class="headerlink" href="#equalizer-debugging-function" title="Permalink to this headline"></a></h2>
<section id="id2">
<h3>2.4.1 Function description<a class="headerlink" href="#id2" title="Permalink to this headline"></a></h3>
<blockquote>
<div><p>Equalizer debugging function to set EQ of equipment</p>
</div></blockquote>
</section>
<section id="id3">
<h3>2.4.2 Sample code<a class="headerlink" href="#id3" title="Permalink to this headline"></a></h3>
<section id="system-eq-commissioning">
<h4>2.4.2.1 System EQ commissioning<a class="headerlink" href="#system-eq-commissioning" title="Permalink to this headline"></a></h4>
<div class="highlight-objective-c notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="cm">/**</span>
<span class="cm">/**</span>
<span class="cm">/**</span>
<span class="cm">Set system EQ</span>
<span class="cm">@param eqMode EQ Mode</span>
<span class="cm">@param params EQ Parameters(10 parameters for JL_EQModeCUSTOM)</span>
<span class="cm">*/</span><span class="w"></span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdSetSystemEQ:</span><span class="p">(</span><span class="n">JL_EQMode</span><span class="p">)</span><span class="nv">eqMode</span><span class="w"> </span><span class="nf">Params:</span><span class="p">(</span><span class="bp">NSArray</span><span class="o">*</span><span class="w"> </span><span class="n">__nullable</span><span class="p">)</span><span class="nv">params</span><span class="p">;</span><span class="w"></span>

<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="n">JL_EQMode</span><span class="w">          </span><span class="n">eqMode</span><span class="p">;</span><span class="w">         </span><span class="c1">//EQ Mode</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">copy</span><span class="p">,</span><span class="w">  </span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="bp">NSArray</span><span class="w">            </span><span class="o">*</span><span class="n">eqArray</span><span class="p">;</span><span class="w">       </span><span class="c1">//EQ parameter value (only applicable to EQ Mode=CUSTOM)）</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">copy</span><span class="p">,</span><span class="w">  </span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="bp">NSArray</span><span class="w">            </span><span class="o">*</span><span class="n">eqCustomArray</span><span class="p">;</span><span class="w"> </span><span class="c1">//Custom EQ</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">copy</span><span class="p">,</span><span class="w">  </span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="bp">NSArray</span><span class="w">            </span><span class="o">*</span><span class="n">eqFrequencyArray</span><span class="p">;</span><span class="w"> </span><span class="c1">//EQ frequency</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="n">JL_EQType</span><span class="w">          </span><span class="n">eqType</span><span class="p">;</span><span class="w">         </span><span class="c1">//EQ segment number type (JL_EQType10&lt;fixed 10 segment type&gt;, JL_EQTypeMutable&lt;dynamic EQ segment&gt;)</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">strong</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="bp">NSArray</span><span class="w">            </span><span class="o">*</span><span class="n">eqDefaultArray</span><span class="p">;</span><span class="c1">//Type of preset value array element of EQ --&gt;[JLEQModel]</span>


<span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">test</span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="bp">NSArray</span><span class="w"> </span><span class="o">*</span><span class="n">eqArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="l">@(</span><span class="mi">2</span><span class="l">)</span><span class="p">,</span><span class="l">@(</span><span class="mi">3</span><span class="l">)</span><span class="p">,</span><span class="l">@(</span><span class="mi">2</span><span class="l">)</span><span class="p">,</span><span class="l">@(</span><span class="mi">2</span><span class="l">)</span><span class="p">,</span><span class="l">@(</span><span class="mi">8</span><span class="l">)</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="n">bleSDK</span><span class="p">.</span><span class="n">mBleEntityM</span><span class="p">.</span><span class="n">mCmdManager</span><span class="p">.</span><span class="n">mSystemEQ</span><span class="w"> </span><span class="n">cmdSetSystemEQ</span><span class="o">:</span><span class="n">JL_EQModeCUSTOM</span><span class="w"> </span><span class="n">Params</span><span class="o">:</span><span class="n">eqArray</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="set-reverberation-limiting">
<h4>2.4.2.2 Set reverberation/limiting<a class="headerlink" href="#set-reverberation-limiting" title="Permalink to this headline"></a></h4>
<p>When setting reverberation and amplitude limiting, it is necessary to determine whether the equipment supports it.</p>
<div class="highlight-objective-c notranslate"><div class="highlight"><pre><span></span><span class="n">JLModel_Device</span><span class="w"> </span><span class="o">*</span><span class="n">model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">bleSDK</span><span class="p">.</span><span class="n">mBleEntityM</span><span class="p">.</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">outputDeviceModel</span><span class="p">];</span><span class="w"></span>
<span class="kt">int</span><span class="w"> </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="c1">///0: Support reverb and limiter 1: Support reverb only 2: Support limiter only</span>
<span class="k">if</span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">reverberationTypes</span><span class="p">.</span><span class="n">count</span><span class="o">==</span><span class="mi">2</span><span class="w">  </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">[</span><span class="n">model</span><span class="p">.</span><span class="n">reverberationTypes</span><span class="w"> </span><span class="n">containsObject</span><span class="o">:</span><span class="l">@(</span><span class="n">JL_ReverberationAndDynamicType</span><span class="l">)</span><span class="p">]</span><span class="w"> </span><span class="c1">//Supports reverb and limiter</span>
<span class="w">   </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">[</span><span class="n">model</span><span class="p">.</span><span class="n">reverberationTypes</span><span class="w"> </span><span class="n">containsObject</span><span class="o">:</span><span class="l">@(</span><span class="mi">1</span><span class="l">)</span><span class="p">]){</span><span class="w"></span>
<span class="w">    </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">if</span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">reverberationTypes</span><span class="p">.</span><span class="n">count</span><span class="o">==</span><span class="mi">1</span><span class="w">  </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">[</span><span class="n">model</span><span class="p">.</span><span class="n">reverberationTypes</span><span class="w"> </span><span class="n">containsObject</span><span class="o">:</span><span class="l">@(</span><span class="n">JL_OnlyReverberationType</span><span class="l">)</span><span class="p">])</span><span class="w"> </span><span class="p">{</span><span class="c1">//Only reverberation is supported</span>
<span class="w">    </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">if</span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">reverberationTypes</span><span class="p">.</span><span class="n">count</span><span class="o">==</span><span class="mi">1</span><span class="w">  </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">[</span><span class="n">model</span><span class="p">.</span><span class="n">reverberationTypes</span><span class="w"> </span><span class="n">containsObject</span><span class="o">:</span><span class="l">@(</span><span class="n">JL_OnlyDynamicLimiterType</span><span class="l">)</span><span class="p">])</span><span class="w"> </span><span class="p">{</span><span class="c1">//Only limiter is supported</span>
<span class="w">    </span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p><cite>JL_BinChargeManager</cite> the interfaces used are as follows:</p>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Set reverb value</span>
<span class="c1">/// @param depthValue depth 0-100</span>
<span class="c1">/// @param intensityValue strength 0-100</span>
<span class="c1">/// @param dynamicLimiterValue dynamic limit amplitude -60 - 0</span>
<span class="c1">/// @param reverOn whether to open</span>
<span class="c1">/// @param type reverb Type</span>
<span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdSetReverberation:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="nv">depthValue</span><span class="w"></span>
<span class="w">            </span><span class="nl">IntensityValue</span><span class="p">:(</span><span class="kt">int</span><span class="p">)</span><span class="nv">intensityValue</span><span class="w"></span>
<span class="w">    </span><span class="nl">DynamicLimiterValue</span><span class="p">:(</span><span class="kt">int</span><span class="p">)</span><span class="nv">dynamicLimiterValue</span><span class="w"></span>
<span class="w">        </span><span class="nl">SwtichReverState</span><span class="p">:(</span><span class="kt">int</span><span class="p">)</span><span class="nv">reverOn</span><span class="w"></span>
<span class="w">                </span><span class="nl">FunType</span><span class="p">:(</span><span class="n">JL_ReverberationFunType</span><span class="p">)</span><span class="nv">type</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="clock-function">
<h2>2.5 Clock function<a class="headerlink" href="#clock-function" title="Permalink to this headline"></a></h2>
<section id="id4">
<h3>2.5.1 Function description<a class="headerlink" href="#id4" title="Permalink to this headline"></a></h3>
<blockquote>
<div><p>Synchronizing alarm devices and managing alarm clocks include: reading, modifying, deleting.</p>
</div></blockquote>
</section>
<section id="use-demo">
<h3>2.5.2 Use demo<a class="headerlink" href="#use-demo" title="Permalink to this headline"></a></h3>
<section id="synchronization-time">
<h4>2.5.2.1 Synchronization time<a class="headerlink" href="#synchronization-time" title="Permalink to this headline"></a></h4>
<div class="highlight-objective-c notranslate"><div class="highlight"><pre><span></span><span class="c1">//在JLManagerM -&gt; JL_SystemTime -&gt; cmdSetSystemTime</span>
<span class="w"> </span><span class="cm">/*--- Synchronization timestamp ----*/</span><span class="w"></span>
<span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;---&gt;(2) SET Device time.&quot;</span><span class="p">);</span><span class="w"></span>
<span class="bp">NSDate</span><span class="w"> </span><span class="o">*</span><span class="n">date</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">NSDate</span><span class="w"> </span><span class="n">new</span><span class="p">];</span><span class="w"></span>
<span class="n">JL_SystemTime</span><span class="w"> </span><span class="o">*</span><span class="n">systemTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">self</span><span class="p">.</span><span class="n">mBleEntityM</span><span class="p">.</span><span class="n">mCmdManager</span><span class="p">.</span><span class="n">mSystemTime</span><span class="p">;</span><span class="w"></span>
<span class="p">[</span><span class="n">systemTime</span><span class="w"> </span><span class="n">cmdSetSystemTime</span><span class="o">:</span><span class="n">date</span><span class="p">];</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="read-alarm-clock">
<h4>2.5.2.2 Read alarm clock<a class="headerlink" href="#read-alarm-clock" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="n">JL_EntityM</span><span class="w"> </span><span class="o">*</span><span class="n">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">]</span><span class="w"> </span><span class="n">mBleEntityM</span><span class="p">];</span><span class="w"></span>
<span class="p">[</span><span class="n">entity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">cmdGetSystemInfo</span><span class="o">:</span><span class="n">JL_FunctionCodeRTC</span><span class="w"> </span><span class="n">SelectionBit</span><span class="o">:</span><span class="mh">0xF2</span><span class="w"> </span><span class="n">Result</span><span class="o">:^</span><span class="p">(</span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">sn</span><span class="p">,</span><span class="w"> </span><span class="bp">NSData</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">//TODO: do something...</span>
<span class="w">    </span><span class="c1">//Get the itemArray to display the data of the alarm clock list</span>
<span class="p">}];</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="modify-alarm-clock">
<h4>2.5.2.3 Modify alarm clock<a class="headerlink" href="#modify-alarm-clock" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="n">JL_EntityM</span><span class="w"> </span><span class="o">*</span><span class="n">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">]</span><span class="w"> </span><span class="n">mBleEntityM</span><span class="p">];</span><span class="w"></span>

<span class="c1">//Create a new alarm clock</span>
<span class="n">JLModel_RTC</span><span class="w"> </span><span class="o">*</span><span class="n">rtcmodel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">JLModel_RTC</span><span class="w"> </span><span class="n">new</span><span class="p">];</span><span class="w"></span>
<span class="n">rtcmodel</span><span class="p">.</span><span class="n">rtcName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">kJL_TXT</span><span class="p">(</span><span class="s">&quot;Alarm clock&quot;</span><span class="p">);</span><span class="w"></span>
<span class="bp">NSDateFormatter</span><span class="w"> </span><span class="o">*</span><span class="n">formatter</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">NSDateFormatter</span><span class="w"> </span><span class="n">new</span><span class="p">];</span><span class="w"></span>
<span class="n">formatter</span><span class="p">.</span><span class="n">dateFormat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">@&quot;yyyy:MM:DD:HH:mm:ss&quot;</span><span class="p">;</span><span class="w"></span>
<span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">nowStr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">formatter</span><span class="w"> </span><span class="n">stringFromDate</span><span class="o">:</span><span class="p">[</span><span class="bp">NSDate</span><span class="w"> </span><span class="n">new</span><span class="p">]];</span><span class="w"></span>
<span class="bp">NSArray</span><span class="w"> </span><span class="o">*</span><span class="n">timeArr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">nowStr</span><span class="w"> </span><span class="n">componentsSeparatedByString</span><span class="o">:</span><span class="s">@&quot;:&quot;</span><span class="p">];</span><span class="w"></span>
<span class="n">rtcmodel</span><span class="p">.</span><span class="n">rtcYear</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">timeArr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="n">intValue</span><span class="p">];</span><span class="w"></span>
<span class="n">rtcmodel</span><span class="p">.</span><span class="n">rtcMonth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">timeArr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="n">intValue</span><span class="p">];</span><span class="w"></span>
<span class="n">rtcmodel</span><span class="p">.</span><span class="n">rtcDay</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">timeArr</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="n">intValue</span><span class="p">];</span><span class="w"></span>
<span class="n">rtcmodel</span><span class="p">.</span><span class="n">rtcHour</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">timeArr</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="n">intValue</span><span class="p">];</span><span class="w"></span>
<span class="n">rtcmodel</span><span class="p">.</span><span class="n">rtcMin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">timeArr</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="n">intValue</span><span class="p">];</span><span class="w"></span>
<span class="n">rtcmodel</span><span class="p">.</span><span class="n">rtcSec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">timeArr</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="w"> </span><span class="n">intValue</span><span class="p">];</span><span class="w"></span>
<span class="n">rtcmodel</span><span class="p">.</span><span class="n">rtcMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x00</span><span class="p">;</span><span class="c1">//Ring type</span>
<span class="n">rtcmodel</span><span class="p">.</span><span class="n">rtcEnable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span><span class="w"></span>
<span class="n">rtcmodel</span><span class="p">.</span><span class="n">rtcIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="c1">//Current alarm number</span>

<span class="c1">//Generally speaking, you can obtain all the current alarm clocks of the device through the above method of reading alarm clocks, and then set them according to the corresponding rtcIndex</span>
<span class="c1">//JLModel_RTC *rtcmodel = // cmdGetSystemInfo: SelectionBit: Result:</span>

<span class="n">JLModel_Device</span><span class="w"> </span><span class="o">*</span><span class="n">device</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">entity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">outputDeviceModel</span><span class="p">];</span><span class="c1">//Get device attribute details</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">device</span><span class="p">.</span><span class="n">rtcDfRings</span><span class="p">.</span><span class="n">count</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="c1">//Get device attribute details</span>
<span class="w">    </span><span class="n">JLModel_Ring</span><span class="w"> </span><span class="o">*</span><span class="n">ring</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">device</span><span class="p">.</span><span class="n">rtcDfRings</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="c1">//Default alarm sound of the device</span>
<span class="w">    </span><span class="n">rtcmodel</span><span class="p">.</span><span class="n">ringInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">RTC_RingInfo</span><span class="w"> </span><span class="n">new</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">rtcmodel</span><span class="p">.</span><span class="n">ringInfo</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="c1">//Alarm type: default or custom</span>
<span class="w">    </span><span class="n">rtcmodel</span><span class="p">.</span><span class="n">ringInfo</span><span class="p">.</span><span class="n">dev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="c1">//Storage location of ring tones, please refer to</span>
<span class="w">    </span><span class="n">rtcmodel</span><span class="p">.</span><span class="n">ringInfo</span><span class="p">.</span><span class="n">clust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="c1">//Custom alarm file cluster number</span>
<span class="w">    </span><span class="n">rtcmodel</span><span class="p">.</span><span class="n">ringInfo</span><span class="p">.</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">ring</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="n">dataUsingEncoding</span><span class="o">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span><span class="c1">//Ring name</span>
<span class="w">    </span><span class="n">rtcmodel</span><span class="p">.</span><span class="n">ringInfo</span><span class="p">.</span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="nb">self</span><span class="p">.</span><span class="n">rtcmodel</span><span class="p">.</span><span class="n">ringInfo</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="c1">//The name file length of the ring tone</span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="c1">//The current alarm settings include adding or modifying one or more alarms</span>
<span class="w">   </span><span class="p">[</span><span class="n">entity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="p">.</span><span class="n">mAlarmClockManager</span><span class="w"> </span><span class="n">cmdRtcSetArray</span><span class="o">:</span><span class="l">@[</span><span class="n">rtcmodel</span><span class="l">]</span><span class="w"> </span><span class="n">Result</span><span class="o">:^</span><span class="p">(</span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">sn</span><span class="p">,</span><span class="w"> </span><span class="bp">NSData</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="c1">//TODO: Returns the number of alarms on the current device，to do something...</span>
<span class="w">   </span><span class="p">}];</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="delete-alarm-clock">
<h4>2.5.2.4 Delete alarm clock<a class="headerlink" href="#delete-alarm-clock" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="n">JLModel_RTC</span><span class="w"> </span><span class="o">*</span><span class="n">rtcmodel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="c1">//.... Get an alarm clock by acquiring the device alarm clock</span>
<span class="c1">//JLModel_RTC</span>
<span class="kt">int</span><span class="w"> </span><span class="n">rtcIndex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rtcmodel</span><span class="p">.</span><span class="n">rtcIndex</span><span class="p">;</span><span class="c1">//Alarm clock serial number</span>
<span class="w">  </span><span class="n">JL_EntityM</span><span class="w"> </span><span class="o">*</span><span class="n">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">]</span><span class="w"> </span><span class="n">mBleEntityM</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="n">entity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="p">.</span><span class="n">mAlarmClockManager</span><span class="w"> </span><span class="n">cmdRtcDeleteIndexArray</span><span class="o">:</span><span class="l">@[@(</span><span class="n">rtcIndex</span><span class="l">)]</span><span class="w"> </span><span class="n">Result</span><span class="o">:^</span><span class="p">(</span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">sn</span><span class="p">,</span><span class="w"> </span><span class="bp">NSData</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">data</span><span class="p">){</span><span class="w"></span>
<span class="w">        </span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="kt">UInt8</span><span class="p">)[</span><span class="n">array</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="n">intValue</span><span class="p">];</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">state</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_CMDStatusSuccess</span><span class="p">){</span><span class="w"></span>
<span class="w">            </span><span class="c1">//TODO: do something...</span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="n">state</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_CMDStatusFail</span><span class="p">){</span><span class="w"></span>
<span class="w">            </span><span class="c1">//ERR: delete failed</span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}];</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="get-the-default-ring-tone-selection-list">
<h4>2.5.2.5 Get the default ring tone selection list<a class="headerlink" href="#get-the-default-ring-tone-selection-list" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="n">JL_EntityM</span><span class="w"> </span><span class="o">*</span><span class="n">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">]</span><span class="w"> </span><span class="n">mBleEntityM</span><span class="p">];</span><span class="w"></span>
<span class="n">JLModel_Device</span><span class="w"> </span><span class="o">*</span><span class="n">model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">entity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">outputDeviceModel</span><span class="p">];</span><span class="w"></span>
<span class="bp">NSArray</span><span class="w"> </span><span class="o">*</span><span class="n">defaultRings</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">model</span><span class="p">.</span><span class="n">rtcDfRings</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="listen-to-the-alarm-clock-ring-tone">
<h4>2.5.2.6 Listen to the alarm clock ring tone<a class="headerlink" href="#listen-to-the-alarm-clock-ring-tone" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="n">JLModel_RTC</span><span class="w"> </span><span class="o">*</span><span class="n">rtcmodel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">JLModel_RTC</span><span class="w"> </span><span class="n">new</span><span class="p">];</span><span class="c1">//Build or get from device</span>
<span class="n">JLModel_Ring</span><span class="w"> </span><span class="o">*</span><span class="n">ring</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="c1">//Alarm object, by obtaining the default or creating a new one;</span>
<span class="n">rtcModel</span><span class="p">.</span><span class="n">ringInfo</span><span class="p">.</span><span class="n">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="c1">//type</span>
<span class="cm">/*</span>
<span class="cm">typedef NS_ENUM(UInt8, JL_CardType) {</span>
<span class="cm">    JL_CardTypeUSB                  = 0, //USB</span>
<span class="cm">    JL_CardTypeSD_0                 = 1, //SD_0</span>
<span class="cm">    JL_CardTypeSD_1                 = 2, //SD_1</span>
<span class="cm">    JL_CardTypeFLASH                = 3, //FLASH</span>
<span class="cm">    JL_CardTypeLineIn               = 4, //LineIn</span>
<span class="cm">    JL_CardTypeFLASH2               = 5, //FLASH2</span>
<span class="cm">};</span>
<span class="cm">*/</span><span class="w"></span>
<span class="n">rtcModel</span><span class="p">.</span><span class="n">ringInfo</span><span class="p">.</span><span class="n">dev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">JL_CardTypeUSB</span><span class="p">;</span><span class="c1">//Where does the ringing content come from</span>
<span class="n">rtcModel</span><span class="p">.</span><span class="n">ringInfo</span><span class="p">.</span><span class="n">clust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ring</span><span class="p">.</span><span class="n">index</span><span class="p">;</span><span class="c1">//File cluster number</span>
<span class="n">rtcModel</span><span class="p">.</span><span class="n">ringInfo</span><span class="p">.</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">ring</span><span class="p">.</span><span class="n">name</span><span class="w"> </span><span class="n">dataUsingEncoding</span><span class="o">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span><span class="c1">//file name</span>
<span class="n">rtcModel</span><span class="p">.</span><span class="n">ringInfo</span><span class="p">.</span><span class="n">len</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rtcModel</span><span class="p">.</span><span class="n">ringInfo</span><span class="p">.</span><span class="n">data</span><span class="p">.</span><span class="n">length</span><span class="p">;</span><span class="c1">//file length</span>

<span class="n">JL_EntityM</span><span class="w"> </span><span class="o">*</span><span class="n">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">]</span><span class="w"> </span><span class="n">mBleEntityM</span><span class="p">];</span><span class="w"></span>
<span class="p">[</span><span class="n">entity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="p">.</span><span class="n">mAlarmClockManager</span><span class="w"> </span><span class="n">cmdRtcAudition</span><span class="o">:</span><span class="n">rtcModel</span><span class="w"> </span><span class="n">Option</span><span class="o">:</span><span class="nb">YES</span><span class="w"> </span><span class="n">result</span><span class="o">:^</span><span class="p">(</span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">sn</span><span class="p">,</span><span class="w"> </span><span class="bp">NSData</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="p">}];</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="stop-ringing-tone-audition">
<h4>2.5.2.7 Stop ringing tone audition<a class="headerlink" href="#stop-ringing-tone-audition" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="n">JL_EntityM</span><span class="w"> </span><span class="o">*</span><span class="n">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">]</span><span class="w"> </span><span class="n">mBleEntityM</span><span class="p">];</span><span class="w"></span>
<span class="p">[</span><span class="n">entity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="p">.</span><span class="n">mAlarmClockManager</span><span class="w"> </span><span class="n">cmdRtcStopResult</span><span class="o">:^</span><span class="p">(</span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">sn</span><span class="p">,</span><span class="w"> </span><span class="bp">NSData</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="p">}];</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="get-alarm-mode-settings">
<h4>2.5.2.8 Get alarm mode settings<a class="headerlink" href="#get-alarm-mode-settings" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="k">@interface</span> <span class="nc">JLModel_AlarmSetting</span> : <span class="bp">NSObject</span><span class="w"></span>
<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">index</span><span class="p">;</span><span class="w">       </span><span class="c1">//Index of the alarm clock</span>
<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">isCount</span><span class="p">;</span><span class="w">     </span><span class="c1">//Whether the [alarm times] can be set</span>
<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">count</span><span class="p">;</span><span class="w">       </span><span class="c1">//The alarm number</span>
<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">isInterval</span><span class="p">;</span><span class="w">  </span><span class="c1">//Whether the [time interval] can be set</span>
<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">interval</span><span class="p">;</span><span class="w">    </span><span class="c1">//The time interval</span>
<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">isTime</span><span class="p">;</span><span class="w">      </span><span class="c1">//Whether the [time length] can be set</span>
<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">time</span><span class="p">;</span><span class="w">        </span><span class="c1">//Length of time</span>
<span class="p">-(</span><span class="bp">NSData</span><span class="o">*</span><span class="p">)</span><span class="nf">dataModel</span><span class="p">;</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="w"> </span><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">getAlarmModelSetting</span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="o">*</span><span class="n">bleSDK</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">JL_ManagerM</span><span class="w"> </span><span class="o">*</span><span class="n">mCmdManager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bleSDK</span><span class="p">.</span><span class="n">mBleEntityM</span><span class="p">.</span><span class="n">mCmdManager</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">JLModel_Device</span><span class="w"> </span><span class="o">*</span><span class="n">model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">outputDeviceModel</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="c1">// Whether alarm clock setting is supported</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">rtcAlarmType</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">YES</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">      </span><span class="c1">//itemArray refers to getting the alarm list from the read alarm clock</span>
<span class="w">      </span><span class="n">JLModel_RTC</span><span class="w"> </span><span class="o">*</span><span class="n">rtcModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">itemArray</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span><span class="w"></span>
<span class="w">      </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">bit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x01</span><span class="p">;</span><span class="w"></span>
<span class="w">      </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">bit_index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bit</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">rtcModel</span><span class="p">.</span><span class="n">rtcIndex</span><span class="p">;</span><span class="w"></span>
<span class="cm">/**</span>
<span class="cm"> @param operate 0x00:read 0x01:write</span>
<span class="cm"> @param index  Mask</span>
<span class="cm">//Bit0：Alarm 0</span>
<span class="cm">//Bit0：Alarm 1</span>
<span class="cm">//Bit0：Alarm 2</span>
<span class="cm">//Bit1：Alarm 3</span>
<span class="cm">//Bit1：Alarm 4</span>
<span class="cm">as shown below：</span>
<span class="cm">0b0000 0001：set alarm 0</span>
<span class="cm">0b0000 0011：set alarm 0 and alarm 1（Other similar reasons）</span>
<span class="cm">If you want to set 0 3 4 alarm clock, index=0x19</span>
<span class="cm">To set 1 2 alarm clocks, index=0x06</span>
<span class="cm"> @param setting Set options, no need to pass in when reading</span>
<span class="cm"> @param result Reply</span>
<span class="cm"> */</span><span class="w"></span>
<span class="p">[</span><span class="n">mCmdManager</span><span class="p">.</span><span class="n">mAlarmClockManager</span><span class="w"> </span><span class="n">cmdRtcOperate</span><span class="o">:</span><span class="n">JL_FlashOperateFlagRead</span><span class="w"> </span><span class="n">Index</span><span class="o">:</span><span class="n">bit_index</span><span class="w"> </span><span class="n">Setting</span><span class="o">:</span><span class="nb">nil</span><span class="w"></span>
<span class="w">                            </span><span class="nl">Result</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="bp">NSArray</span><span class="o">&lt;</span><span class="n">JLModel_AlarmSetting</span><span class="w"> </span><span class="o">*&gt;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">flag</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="p">}];</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="set-alarm-mode">
<h4>2.5.2.9 Set alarm mode<a class="headerlink" href="#set-alarm-mode" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="k">@interface</span> <span class="nc">JLModel_RTC</span> : <span class="bp">NSObject</span><span class="w"></span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w">       </span><span class="n">rtcYear</span><span class="p">;</span><span class="w"> </span><span class="c1">//Year</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w">        </span><span class="n">rtcMonth</span><span class="p">;</span><span class="c1">//Month</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w">        </span><span class="n">rtcDay</span><span class="p">;</span><span class="w"> </span><span class="c1">//day</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w">        </span><span class="n">rtcHour</span><span class="p">;</span><span class="c1">//hour</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w">        </span><span class="n">rtcMin</span><span class="p">;</span><span class="w"> </span><span class="c1">//minute</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w">        </span><span class="n">rtcSec</span><span class="p">;</span><span class="w"> </span><span class="c1">//second</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">BOOL</span><span class="w">           </span><span class="n">rtcEnable</span><span class="p">;</span><span class="w"> </span><span class="c1">//Open Close</span>
<span class="c1">//Pattern：</span>
<span class="cm">/*</span>
<span class="cm">Scenario 1:</span>
<span class="cm">mode=0:Only ring once</span>
<span class="cm">Scenario 2:</span>
<span class="cm">Bit0:Every day</span>
<span class="cm">Bit1：Monday</span>
<span class="cm">Bit2：Tuesday</span>
<span class="cm">Bit3：Wednesday</span>
<span class="cm">Bit4：Thursday</span>
<span class="cm">Bit5：Friday</span>
<span class="cm">Bit6：Saturday</span>
<span class="cm">Bit7：Sunday</span>
<span class="cm">*/</span><span class="w"></span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w">        </span><span class="n">rtcMode</span><span class="p">;</span><span class="w"></span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w">        </span><span class="n">rtcIndex</span><span class="p">;</span><span class="w"> </span><span class="c1">//Serial Number</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">copy</span><span class="w">  </span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="bp">NSString</span><span class="w">       </span><span class="o">*</span><span class="n">rtcName</span><span class="p">;</span><span class="w"> </span><span class="c1">//Name</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">strong</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="n">RTC_RingInfo</span><span class="w">   </span><span class="o">*</span><span class="n">ringInfo</span><span class="p">;</span><span class="c1">//Details</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">strong</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="bp">NSData</span><span class="w">         </span><span class="o">*</span><span class="n">RingData</span><span class="p">;</span><span class="c1">//Ring data</span>
<span class="k">@end</span><span class="w"></span>

<span class="k">@interface</span> <span class="nc">RTC_RingInfo</span> : <span class="bp">NSObject</span><span class="w"></span>
<span class="c1">//Type: 0: Default: 1: External</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">type</span><span class="p">;</span><span class="w"></span>
<span class="c1">//Storage location</span>
<span class="cm">/*</span>
<span class="cm">typedef NS_ENUM(UInt8, JL_CardType) {</span>
<span class="cm">    JL_CardTypeUSB                  = 0, //USB</span>
<span class="cm">    JL_CardTypeSD_0                 = 1, //SD_0</span>
<span class="cm">    JL_CardTypeSD_1                 = 2, //SD_1</span>
<span class="cm">    JL_CardTypeFLASH                = 3, //FLASH</span>
<span class="cm">    JL_CardTypeLineIn               = 4, //LineIn</span>
<span class="cm">    JL_CardTypeFLASH2               = 5, //FLASH2</span>
<span class="cm">};</span>
<span class="cm">*/</span><span class="w"></span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w">  </span><span class="n">dev</span><span class="p">;</span><span class="w"></span>
<span class="c1">//File cluster number</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint32_t</span><span class="w"> </span><span class="n">clust</span><span class="p">;</span><span class="w"></span>
<span class="c1">//Ring name length</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">len</span><span class="p">;</span><span class="w"></span>
<span class="c1">//Ringing name content</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">strong</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="bp">NSData</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="p">;</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="c1">//Ring cycle mode setting</span>
<span class="o">-</span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="n">rtcmode</span><span class="p">{</span><span class="w"></span>
<span class="bp">NSArray</span><span class="w"> </span><span class="o">*</span><span class="n">array</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="l">@[</span><span class="mi">@1</span><span class="p">,</span><span class="mi">@3</span><span class="p">,</span><span class="mi">@5</span><span class="l">]</span><span class="p">;</span><span class="w"></span>
<span class="kt">uint8_t</span><span class="w"> </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x00</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">array</span><span class="p">.</span><span class="n">count</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">num</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">array</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">tmp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x01</span><span class="p">;</span><span class="w"></span>
<span class="w">            </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">num</span><span class="w"> </span><span class="n">intValue</span><span class="p">];</span><span class="w"></span>
<span class="w">            </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">tmp_n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tmp</span><span class="o">&lt;&lt;</span><span class="n">n</span><span class="p">;</span><span class="w"></span>
<span class="w">            </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mode</span><span class="o">|</span><span class="n">tmp_n</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">mode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mh">0x01</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">mode</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="c1">//New alarm</span>
<span class="n">JLModel_RTC</span><span class="w"> </span><span class="o">*</span><span class="n">rtcmodel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">JLModel_RTC</span><span class="w"> </span><span class="n">new</span><span class="p">];</span><span class="w"></span>
<span class="c1">//Ring cycle mode setting</span>
<span class="n">rtcmodel</span><span class="p">.</span><span class="n">rtcMode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nb">self</span><span class="w"> </span><span class="n">rtcmode</span><span class="p">];</span><span class="w"></span>
<span class="c1">//Interface Statement</span>
<span class="cp">#pragma mark ---&gt; Alarm setting</span>
<span class="cm">/**</span>
<span class="cm"> @param operate 0x00:Read 0x01:Write</span>
<span class="cm"> @param index Mask</span>
<span class="cm">//Bit0：Alarm 0</span>
<span class="cm">//Bit1：Alarm 1</span>
<span class="cm">//Bit1：Alarm 2</span>
<span class="cm">//Bit1：Alarm 3</span>
<span class="cm">//Bit1：Alarm 4</span>
<span class="cm">As shown below：</span>
<span class="cm">0b0000 0001：Set alarm 0</span>
<span class="cm">0b0000 0011：Set alarm clock 0 and alarm clock 1 (the same for others)</span>
<span class="cm">If you want to set 0 3 4 alarm clock, index=0x19</span>
<span class="cm">To set 1 2 alarm clocks, index=0x06</span>
<span class="cm"> @param setting Set options, no need to pass in when reading</span>
<span class="cm"> @param result Reply</span>
<span class="cm"> */</span><span class="w"></span>
<span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdRtcOperate:</span><span class="p">(</span><span class="n">JL_RtcOperate</span><span class="p">)</span><span class="nv">operate</span><span class="w"></span>
<span class="w">               </span><span class="nl">Index</span><span class="p">:(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="nv">index</span><span class="w"></span>
<span class="w">               </span><span class="nl">Setting</span><span class="p">:(</span><span class="n">JLModel_AlarmSetting</span><span class="o">*</span><span class="w"> </span><span class="n">__nullable</span><span class="p">)</span><span class="nv">setting</span><span class="w"></span>
<span class="w">               </span><span class="nl">Result</span><span class="p">:(</span><span class="n">JL_RTC_ALARM_BK</span><span class="w"> </span><span class="n">__nullable</span><span class="p">)</span><span class="nv">result</span><span class="p">;</span><span class="w"></span>

<span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setRingModel</span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">JL_EntityM</span><span class="w"> </span><span class="o">*</span><span class="n">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">]</span><span class="w"> </span><span class="n">mBleEntityM</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="n">JLModel_AlarmSetting</span><span class="w"> </span><span class="o">*</span><span class="n">setting</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">JLModel_AlarmSetting</span><span class="w"> </span><span class="n">new</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">setting</span><span class="p">.</span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">index</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">setting</span><span class="p">.</span><span class="n">isCount</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">setting</span><span class="p">.</span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mCount</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">setting</span><span class="p">.</span><span class="n">isInterval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">setting</span><span class="p">.</span><span class="n">interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mInterval</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">setting</span><span class="p">.</span><span class="n">isTime</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="n">setting</span><span class="p">.</span><span class="n">time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">mTime</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="c1">//You can also use this mode to set the alarm mode after obtaining it in the above way</span>

<span class="w">    </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Alarm Index ---&gt; %d count:%d interval:%d time:%d&quot;</span><span class="p">,</span><span class="n">index</span><span class="p">,</span><span class="n">mCount</span><span class="p">,</span><span class="n">mInterval</span><span class="p">,</span><span class="n">mTime</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="n">entity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="p">.</span><span class="n">mAlarmClockManager</span><span class="w"> </span><span class="n">cmdRtcOperate</span><span class="o">:</span><span class="n">JL_FlashOperateFlagWrite</span><span class="w"> </span><span class="n">Index</span><span class="o">:</span><span class="n">index</span><span class="w"> </span><span class="n">Setting</span><span class="o">:</span><span class="n">setting</span><span class="w"></span>
<span class="w">                               </span><span class="nl">Result</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="bp">NSArray</span><span class="o">&lt;</span><span class="n">JLModel_AlarmSetting</span><span class="w"> </span><span class="o">*&gt;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">array</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">flag</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">flag</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Set alarm clock successfully&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="the-alarm-clock-is-ringing-or-it-stops-ringing">
<h4>2.5.2.10 The alarm clock is ringing or it stops ringing<a class="headerlink" href="#the-alarm-clock-is-ringing-or-it-stops-ringing" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="k">extern</span><span class="w"> </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">kJL_RTC_RINGING</span><span class="p">;</span><span class="w">       </span><span class="c1">//The alarm clock is ringing</span>
<span class="k">extern</span><span class="w"> </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">kJL_RTC_RINGSTOP</span><span class="p">;</span><span class="w">      </span><span class="c1">//The alarm clock stops ringing</span>
</pre></div>
</div>
</section>
<section id="stop-alarm-sound-callback">
<h4>2.5.2.11 Stop alarm sound callback<a class="headerlink" href="#stop-alarm-sound-callback" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm">Stop the alarm</span>
<span class="cm">@param result Reply</span>
<span class="cm">*/</span><span class="w"></span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdRtcStopResult:</span><span class="p">(</span><span class="n">JL_CMD_BK</span><span class="p">)</span><span class="nv">result</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="control-function-of-external-equipment">
<h2>2.6 Control function of external equipment<a class="headerlink" href="#control-function-of-external-equipment" title="Permalink to this headline"></a></h2>
<section id="id5">
<h3>2.6.1 Function description<a class="headerlink" href="#id5" title="Permalink to this headline"></a></h3>
<blockquote>
<div><p>Switch to Linein mode and operation in LineIn mode</p>
</div></blockquote>
</section>
<section id="id6">
<h3>2.6.2 Sample code<a class="headerlink" href="#id6" title="Permalink to this headline"></a></h3>
<div class="highlight-objective-c notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">JL_Manager</span><span class="w"> </span><span class="n">cmdFunction</span><span class="o">:</span><span class="n">JL_FunctionCodeCOMMON</span><span class="w"> </span><span class="n">Command</span><span class="o">:</span><span class="n">JL_FunctionCodeLINEIN</span><span class="w"> </span><span class="n">Extend</span><span class="o">:</span><span class="mh">0x00</span><span class="w"> </span><span class="n">Result</span><span class="o">:</span><span class="nb">nil</span><span class="p">];</span><span class="w"> </span><span class="c1">//Switch to Linein mode</span>
<span class="p">[</span><span class="n">JL_Manager</span><span class="w"> </span><span class="n">cmdGetSystemInfo</span><span class="o">:</span><span class="n">JL_FunctionCodeLINEIN</span><span class="w"> </span><span class="n">Result</span><span class="o">:</span><span class="nb">nil</span><span class="p">];</span><span class="w"> </span><span class="c1">//Get information in Linein mode</span>
<span class="c1">//Set playback and pause under Linein</span>
<span class="p">[</span><span class="n">JL_Manager</span><span class="w"> </span><span class="n">cmdFunction</span><span class="o">:</span><span class="n">JL_FunctionCodeLINEIN</span><span class="w"> </span><span class="n">Command</span><span class="o">:</span><span class="n">JL_FCmdLineInPP</span><span class="w"> </span><span class="n">Extend</span><span class="o">:</span><span class="mi">0</span><span class="w"> </span><span class="n">Result</span><span class="o">:</span><span class="nb">nil</span><span class="p">];</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="matters-needing-attention">
<h3>2.6.3 Matters needing attention<a class="headerlink" href="#matters-needing-attention" title="Permalink to this headline"></a></h3>
<p>Get the status of LineIn through  <strong>JL_ManagerM</strong>
<strong>outputDeviceModel</strong> method, where the property</p>
<p>/<em>— LineIn INFO —</em>/</p>
<p><strong>&#64;property</strong> (<strong>assign</strong>,<strong>nonatomic</strong>) JL_LineInStatus lineInStatus;
//LineIn Status</p>
</section>
</section>
<section id="fm-control-function">
<h2>2.7 FM control function<a class="headerlink" href="#fm-control-function" title="Permalink to this headline"></a></h2>
<section id="id7">
<h3>2.7.1 Function description<a class="headerlink" href="#id7" title="Permalink to this headline"></a></h3>
<blockquote>
<div><p>Control Firmware Radio Module Related Operations <strong>FM Related Operations</strong></p>
</div></blockquote>
</section>
<section id="id8">
<h3>2.7.2 Sample code<a class="headerlink" href="#id8" title="Permalink to this headline"></a></h3>
<div class="highlight-objective-c notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="c1">///Next Node</span>
<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">btn_lastPoint</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">JL_EntityM</span><span class="w"> </span><span class="o">*</span><span class="n">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">]</span><span class="w"> </span><span class="n">mBleEntityM</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">JLModel_Device</span><span class="w"> </span><span class="o">*</span><span class="n">model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">entity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">outputDeviceModel</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">currentFunc</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_FunctionCodeFM</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="p">(</span><span class="nb">self</span><span class="o">-&gt;</span><span class="n">imageGif</span><span class="p">.</span><span class="n">hidden</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NO</span><span class="p">){</span><span class="w"></span>
<span class="w">            </span><span class="p">[</span><span class="n">DFUITools</span><span class="w"> </span><span class="n">showText</span><span class="o">:</span><span class="n">kJL_TXT</span><span class="p">(</span><span class="s">&quot;searching&quot;</span><span class="p">)</span><span class="w"> </span><span class="n">onView</span><span class="o">:</span><span class="nb">self</span><span class="w"> </span><span class="n">delay</span><span class="o">:</span><span class="mf">1.0</span><span class="p">];</span><span class="w"></span>
<span class="w">            </span><span class="k">return</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="n">entity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="p">.</span><span class="n">mFmManager</span><span class="w"> </span><span class="n">cmdFm</span><span class="o">:</span><span class="n">JL_FCmdFMChannelBefore</span><span class="w"></span>
<span class="w">                   </span><span class="nl">Saerch</span><span class="p">:</span><span class="mh">0x00</span><span class="w"> </span><span class="n">Channel</span><span class="o">:</span><span class="mh">0x00</span><span class="w"></span>
<span class="w">                </span><span class="nl">Frequency</span><span class="p">:</span><span class="mh">0x00</span><span class="w"> </span><span class="n">Result</span><span class="o">:</span><span class="nb">nil</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="id9">
<h3>2.7.3 Related interfaces<a class="headerlink" href="#id9" title="Permalink to this headline"></a></h3>
<div class="highlight-objective-c notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="k">typedef</span><span class="w"> </span><span class="n">NS_ENUM</span><span class="p">(</span><span class="kt">UInt8</span><span class="p">,</span><span class="w"> </span><span class="n">JL_FCmdFM</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">JL_FCmdFMPP</span><span class="w">                     </span><span class="o">=</span><span class="w"> </span><span class="mh">0x01</span><span class="p">,</span><span class="w"> </span><span class="c1">//FM Pause/Play</span>
<span class="w">    </span><span class="n">JL_FCmdFMPonitBefore</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="mh">0x02</span><span class="p">,</span><span class="w"> </span><span class="c1">//Last frequency point</span>
<span class="w">    </span><span class="n">JL_FCmdFMPonitNext</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="mh">0x03</span><span class="p">,</span><span class="w"> </span><span class="c1">//Next frequency point</span>
<span class="w">    </span><span class="n">JL_FCmdFMChannelBefore</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="mh">0x04</span><span class="p">,</span><span class="w"> </span><span class="c1">//Previous Channel</span>
<span class="w">    </span><span class="n">JL_FCmdFMChannelNext</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="mh">0x05</span><span class="p">,</span><span class="w"> </span><span class="c1">//Next Channel</span>
<span class="w">    </span><span class="n">JL_FCmdFMSearch</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="mh">0x06</span><span class="p">,</span><span class="w"> </span><span class="c1">//Scanning</span>
<span class="w">    </span><span class="n">JL_FCmdFMChannelSelect</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="mh">0x07</span><span class="p">,</span><span class="w"> </span><span class="c1">//Select Channel</span>
<span class="w">    </span><span class="n">JL_FCmdFMChannelDelete</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="mh">0x08</span><span class="p">,</span><span class="w"> </span><span class="c1">//Delete Channel</span>
<span class="w">    </span><span class="n">JL_FCmdFMFrequencySelect</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mh">0x09</span><span class="p">,</span><span class="w"> </span><span class="c1">//Select frequency point</span>
<span class="w">    </span><span class="n">JL_FCmdFMFrequencyDelete</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0a</span><span class="p">,</span><span class="w"> </span><span class="c1">//Delete frequency point</span>
<span class="p">};</span><span class="w"></span>

<span class="k">typedef</span><span class="w"> </span><span class="n">NS_ENUM</span><span class="p">(</span><span class="kt">UInt8</span><span class="p">,</span><span class="w"> </span><span class="n">JL_FMSearch</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">JL_FMSearchALL</span><span class="w">                  </span><span class="o">=</span><span class="w"> </span><span class="mh">0x00</span><span class="p">,</span><span class="w"> </span><span class="c1">//FM Pause/Play</span>
<span class="w">    </span><span class="n">JL_FMSearchForward</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="mh">0x01</span><span class="p">,</span><span class="w"> </span><span class="c1">//Search Forward</span>
<span class="w">    </span><span class="n">JL_FMSearchBackward</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="mh">0x02</span><span class="p">,</span><span class="w"> </span><span class="c1">//Search Backward</span>
<span class="w">    </span><span class="n">JL_FMSearchStop</span><span class="w">                 </span><span class="o">=</span><span class="w"> </span><span class="mh">0x03</span><span class="p">,</span><span class="w"> </span><span class="c1">//Stop searching</span>
<span class="p">};</span><span class="w"></span>

<span class="n">NS_ASSUME_NONNULL_BEGIN</span><span class="w"></span>

<span class="k">@interface</span> <span class="nc">JL_FmManager</span> : <span class="nc">JL_FunctionBaseManager</span><span class="w"></span>

<span class="cp">#pragma mark ---&gt; FM related operations</span>
<span class="cm">/**</span>
<span class="cm"> @param cmd FM function</span>
<span class="cm"> @param search FM Search</span>
<span class="cm"> @param channel FM Channel</span>
<span class="cm"> @param frequency FM frequency point</span>
<span class="cm"> @param result Return Results</span>
<span class="cm"> */</span><span class="w"></span>
<span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdFm:</span><span class="p">(</span><span class="n">JL_FCmdFM</span><span class="p">)</span><span class="nv">cmd</span><span class="w"></span>
<span class="w">      </span><span class="nl">Saerch</span><span class="p">:(</span><span class="n">JL_FMSearch</span><span class="p">)</span><span class="nv">search</span><span class="w"></span>
<span class="w">     </span><span class="nl">Channel</span><span class="p">:(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="nv">channel</span><span class="w"></span>
<span class="w">   </span><span class="nl">Frequency</span><span class="p">:(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="nv">frequency</span><span class="w"></span>
<span class="w">      </span><span class="nl">Result</span><span class="p">:(</span><span class="n">JL_CMD_RESPOND</span><span class="w"> </span><span class="n">__nullable</span><span class="p">)</span><span class="nv">result</span><span class="p">;</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
<section id="light-control-function">
<h2>2.8 Light control function<a class="headerlink" href="#light-control-function" title="Permalink to this headline"></a></h2>
<section id="id10">
<h3>2.8.1 Function description<a class="headerlink" href="#id10" title="Permalink to this headline"></a></h3>
<blockquote>
<div><p>Contents related to equipment setting light</p>
</div></blockquote>
</section>
<section id="id11">
<h3>2.8.2 Sample code<a class="headerlink" href="#id11" title="Permalink to this headline"></a></h3>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="cp">#pragma mark App----&gt;Firmware sends commands to firmware</span>
<span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">sendMessageLightState:</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="p">)</span><span class="nv">lightState</span><span class="w"> </span><span class="nf">withLightMode:</span><span class="p">(</span><span class="kt">int</span><span class="p">)</span> <span class="nv">lightMode</span><span class="p">{</span><span class="w"></span>

<span class="w">   </span><span class="n">COLOR_HSL</span><span class="w"> </span><span class="n">hsl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">360</span><span class="o">*</span><span class="p">(</span><span class="n">sliderSewen_0</span><span class="p">.</span><span class="n">value</span><span class="p">),</span><span class="mi">100</span><span class="o">*</span><span class="p">(</span><span class="n">sliderSewen_1</span><span class="p">.</span><span class="n">value</span><span class="p">),</span><span class="mi">100</span><span class="o">*</span><span class="p">(</span><span class="n">sliderSewen_2</span><span class="p">.</span><span class="n">value</span><span class="p">)};</span><span class="w"></span>
<span class="w">   </span><span class="n">COLOR_RGB</span><span class="w"> </span><span class="n">rgb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">};</span><span class="w"></span>
<span class="w">   </span><span class="n">HSLtoRGB</span><span class="p">(</span><span class="o">&amp;</span><span class="n">hsl</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rgb</span><span class="p">);</span><span class="w"></span>

<span class="w">   </span><span class="n">btnColor</span><span class="p">.</span><span class="n">backgroundColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">kDF_RGBA</span><span class="p">(</span><span class="n">rgb</span><span class="p">.</span><span class="n">red</span><span class="p">,</span><span class="w"> </span><span class="n">rgb</span><span class="p">.</span><span class="n">green</span><span class="p">,</span><span class="w"> </span><span class="n">rgb</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span><span class="w"></span>
<span class="w">   </span><span class="n">addColor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">kDF_RGBA</span><span class="p">(</span><span class="n">rgb</span><span class="p">.</span><span class="n">red</span><span class="p">,</span><span class="w"> </span><span class="n">rgb</span><span class="p">.</span><span class="n">green</span><span class="p">,</span><span class="w"> </span><span class="n">rgb</span><span class="p">.</span><span class="n">blue</span><span class="p">,</span><span class="w"> </span><span class="mf">1.0</span><span class="p">);</span><span class="w"></span>

<span class="w">   </span><span class="kt">float</span><span class="w"> </span><span class="n">hue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">360</span><span class="o">*</span><span class="p">(</span><span class="n">sliderSewen_0</span><span class="p">.</span><span class="n">value</span><span class="p">);</span><span class="w"></span>
<span class="w">   </span><span class="kt">float</span><span class="w"> </span><span class="n">saturation</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="o">*</span><span class="p">(</span><span class="n">sliderSewen_1</span><span class="p">.</span><span class="n">value</span><span class="p">);</span><span class="w"></span>
<span class="w">   </span><span class="kt">float</span><span class="w"> </span><span class="n">lightness</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">100</span><span class="o">*</span><span class="p">(</span><span class="n">sliderSewen_2</span><span class="p">.</span><span class="n">value</span><span class="p">);</span><span class="w"></span>
<span class="w">   </span><span class="p">[</span><span class="n">bleSDK</span><span class="p">.</span><span class="n">mBleEntityM</span><span class="p">.</span><span class="n">mCmdManager</span><span class="p">.</span><span class="n">mLightManager</span><span class="w"> </span><span class="n">cmdSetState</span><span class="o">:</span><span class="n">lightState</span><span class="w"> </span><span class="n">Mode</span><span class="o">:</span><span class="n">lightMode</span><span class="w"></span>
<span class="w">                                           </span><span class="nl">Red</span><span class="p">:</span><span class="n">rgb</span><span class="p">.</span><span class="n">red</span><span class="w"> </span><span class="n">Green</span><span class="o">:</span><span class="n">rgb</span><span class="p">.</span><span class="n">green</span><span class="w"> </span><span class="n">Blue</span><span class="o">:</span><span class="n">rgb</span><span class="p">.</span><span class="n">blue</span><span class="w"></span>
<span class="w">                                     </span><span class="nl">FlashInex</span><span class="p">:</span><span class="n">flashIndex</span><span class="w"> </span><span class="n">FlashFreq</span><span class="o">:</span><span class="n">freqenyIndex</span><span class="w"> </span><span class="n">SceneIndex</span><span class="o">:</span><span class="n">sceneIndex</span><span class="w"></span>
<span class="w">                                           </span><span class="nl">Hue</span><span class="p">:</span><span class="n">hue</span><span class="w"> </span><span class="n">Saturation</span><span class="o">:</span><span class="n">saturation</span><span class="w"> </span><span class="n">Lightness</span><span class="o">:</span><span class="n">lightness</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="id12">
<h3>2.8.3 Related interfaces<a class="headerlink" href="#id12" title="Permalink to this headline"></a></h3>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="n">NS_ASSUME_NONNULL_BEGIN</span><span class="w"></span>

<span class="k">@interface</span> <span class="nc">JL_LightManager</span> : <span class="nc">JL_FunctionBaseManager</span><span class="w"></span>

<span class="cp">#pragma mark ---&gt; Setting Lights</span>
<span class="cm">/**</span>
<span class="cm"> *  Setting Lights</span>
<span class="cm"> *  @param lightState</span>
<span class="cm"> *  @param lightMode</span>
<span class="cm"> *  @param red</span>
<span class="cm"> *  @param green</span>
<span class="cm"> *  @param blue</span>
<span class="cm"> *  @param flashIndex</span>
<span class="cm"> *  @param flashFreqIndex</span>
<span class="cm"> *  @param sceneIndex</span>
<span class="cm"> *  @param hue</span>
<span class="cm"> *  @param saturation</span>
<span class="cm"> *  @param lightness</span>
<span class="cm"> */</span><span class="w"></span>
<span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdSetState:</span><span class="p">(</span><span class="n">JL_LightState</span><span class="p">)</span><span class="nv">lightState</span><span class="w"></span>
<span class="w">              </span><span class="nl">Mode</span><span class="p">:(</span><span class="n">JL_LightMode</span><span class="p">)</span><span class="nv">lightMode</span><span class="w"></span>
<span class="w">               </span><span class="nl">Red</span><span class="p">:(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="nv">red</span><span class="w"></span>
<span class="w">             </span><span class="nl">Green</span><span class="p">:(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="nv">green</span><span class="w"></span>
<span class="w">              </span><span class="nl">Blue</span><span class="p">:(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="nv">blue</span><span class="w"></span>
<span class="w">         </span><span class="nl">FlashInex</span><span class="p">:(</span><span class="n">JL_LightFlashModeIndex</span><span class="p">)</span><span class="nv">flashIndex</span><span class="w"></span>
<span class="w">         </span><span class="nl">FlashFreq</span><span class="p">:(</span><span class="n">JL_LightFlashModeFrequency</span><span class="p">)</span><span class="nv">flashFreqIndex</span><span class="w"></span>
<span class="w">        </span><span class="nl">SceneIndex</span><span class="p">:(</span><span class="n">JL_LightSceneMode</span><span class="p">)</span><span class="nv">sceneIndex</span><span class="w"></span>
<span class="w">               </span><span class="nl">Hue</span><span class="p">:(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="nv">hue</span><span class="w"></span>
<span class="w">        </span><span class="nl">Saturation</span><span class="p">:(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="nv">saturation</span><span class="w"></span>
<span class="w">         </span><span class="nl">Lightness</span><span class="p">:(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="nv">lightness</span><span class="p">;</span><span class="w"></span>

<span class="k">@end</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
<section id="id3-information-control-function">
<h2>2.9 ID3 information control function<a class="headerlink" href="#id3-information-control-function" title="Permalink to this headline"></a></h2>
<p>The device sends information about the songs being played to the APP through ID3. The APP can be controlled through the following interfaces.</p>
<section id="control-related-interfaces">
<h3>2.9.1 Control related interfaces<a class="headerlink" href="#control-related-interfaces" title="Permalink to this headline"></a></h3>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="c1">//Play/Pause</span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdID3_PP</span><span class="p">;</span><span class="w"></span>

<span class="c1">//Previous song</span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdID3_Before</span><span class="p">;</span><span class="w"></span>

<span class="c1">//Next</span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdID3_Next</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Turn on/off music information push</span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdID3_PushEnable:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">enable</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Actively set ID3 playback status</span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">setID3_Status:</span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="nv">st</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="monitoring-and-usage">
<h3>2.9.2 Monitoring and usage<a class="headerlink" href="#monitoring-and-usage" title="Permalink to this headline"></a></h3>
<p>ID3 is some information sent to the mobile phone by other mobile players when playing music. The mobile phone can listen to these information through the following interfaces. Note: the developer needs to actively and regularly query changes.</p>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">addNote</span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">//Monitor ID3 playback status</span>
<span class="w">    </span><span class="p">[</span><span class="n">JL_Tools</span><span class="w"> </span><span class="n">add</span><span class="o">:</span><span class="n">kUI_JL_SHOW_ID3</span><span class="w"> </span><span class="n">Action</span><span class="o">:</span><span class="k">@selector</span><span class="p">(</span><span class="n">noteShowId3</span><span class="o">:</span><span class="p">)</span><span class="w"> </span><span class="n">Own</span><span class="o">:</span><span class="nb">self</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">noteShowId3:</span><span class="p">(</span><span class="bp">NSNotification</span><span class="o">*</span><span class="p">)</span><span class="nv">note</span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">//Third party music, turn off the timer of device music</span>
<span class="w">    </span><span class="p">[</span><span class="n">DFAction</span><span class="w"> </span><span class="n">timingStop</span><span class="o">:</span><span class="n">myTimer</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;----------&gt; showID3UI 1111&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="w"> </span><span class="n">showID3UI</span><span class="o">:</span><span class="nb">YES</span><span class="p">];</span><span class="w"></span>

<span class="w">    </span><span class="n">JL_EntityM</span><span class="w"> </span><span class="o">*</span><span class="n">entity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">]</span><span class="w"> </span><span class="n">mBleEntityM</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">JLModel_Device</span><span class="w"> </span><span class="o">*</span><span class="n">model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">entity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">outputDeviceModel</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">name_0</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">NSString</span><span class="w"> </span><span class="n">stringWithFormat</span><span class="o">:</span><span class="s">@&quot;%@&quot;</span><span class="p">,</span><span class="n">model</span><span class="p">.</span><span class="n">ID3_Title</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">name_1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">NSString</span><span class="w"> </span><span class="n">stringWithFormat</span><span class="o">:</span><span class="s">@&quot;%@&quot;</span><span class="p">,</span><span class="n">model</span><span class="p">.</span><span class="n">ID3_Artist</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">name_2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">NSString</span><span class="w"> </span><span class="n">stringWithFormat</span><span class="o">:</span><span class="s">@&quot;%@&quot;</span><span class="p">,</span><span class="n">model</span><span class="p">.</span><span class="n">ID3_AlBum</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="equipment-lrc-lyrics-display">
<h3>2.9.3 Equipment LRC lyrics display<a class="headerlink" href="#equipment-lrc-lyrics-display" title="Permalink to this headline"></a></h3>
<section id="id13">
<h4>2.9.3.1 Function description<a class="headerlink" href="#id13" title="Permalink to this headline"></a></h4>
<blockquote>
<div><p>Display lyrics of firmware transmission</p>
</div></blockquote>
</section>
<section id="id14">
<h4>2.9.3.2 Sample code<a class="headerlink" href="#id14" title="Permalink to this headline"></a></h4>
<div class="highlight-objective-c notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">speexTest</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">JL_ManagerM</span><span class="w"> </span><span class="o">*</span><span class="n">manager</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="p">[[</span><span class="n">JL_ManagerM</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="n">manager</span><span class="p">.</span><span class="n">mLrcManager</span><span class="w"> </span><span class="n">cmdLrcMonitorResult</span><span class="o">:^</span><span class="p">(</span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">lrc</span><span class="p">,</span><span class="w"> </span><span class="n">JL_LRCType</span><span class="w"> </span><span class="n">type</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">       </span><span class="c1">//TODO:</span>
<span class="w">    </span><span class="p">}];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="tws-function">
<h2>2.10 TWS function<a class="headerlink" href="#tws-function" title="Permalink to this headline"></a></h2>
<section id="id15">
<h3>2.10.1 Function description<a class="headerlink" href="#id15" title="Permalink to this headline"></a></h3>
<blockquote>
<div><p>Relevant interfaces for TWS headset operation</p>
</div></blockquote>
</section>
<section id="id16">
<h3>2.10.2 Sample code<a class="headerlink" href="#id16" title="Permalink to this headline"></a></h3>
<section id="intelligent-charging-chamber-related">
<h4>2.10.2.1 Intelligent charging chamber related<a class="headerlink" href="#intelligent-charging-chamber-related" title="Permalink to this headline"></a></h4>
<blockquote>
<div><p>Operation of the intelligent charging chamber, informing the firmware app of the information, enabling the device blue scan, returning results, and other operations</p>
</div></blockquote>
<ul class="simple">
<li><p>Sample code</p></li>
</ul>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="c1">// Notify Firmware App of information</span>
<span class="c1">// @param flag  unknown</span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdSetAppInfo:</span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="nv">flag</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Set communication MTU</span>
<span class="c1">// @param mtu app Request mtu</span>
<span class="c1">// @param result Actual settings MTU Size</span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdSetMTU:</span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="nv">mtu</span><span class="w"> </span><span class="nf">Result:</span><span class="p">(</span><span class="n">JL_CMD_VALUE_BK</span><span class="p">)</span><span class="nv">result</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Enable Blue Scan</span>
<span class="c1">// @param timeout Timeout</span>
<span class="c1">// @param result  0: Success 1: Failure</span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdBTScanStartTimeout:</span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="nv">timeout</span><span class="w"> </span><span class="nf">Result:</span><span class="p">(</span><span class="n">JL_CMD_VALUE_BK</span><span class="p">)</span><span class="nv">result</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Push bluetooth scan results</span>
<span class="c1">// Return [Blue Data Structure] array</span>
<span class="c1">// @see JLBTModel</span>
<span class="k">extern</span><span class="w"> </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">kJL_BT_LIST_RESULT</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Stop blue scanning (APP --&gt;firmware)</span>
<span class="c1">// @Param reason 0: timeout end 1: interrupt end 2: start scanning failed 3: scanning in progress</span>
<span class="c1">// @Param result 0: Success 1: Failure</span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdBTScanStopReason:</span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="nv">reason</span><span class="w"> </span><span class="nf">Result:</span><span class="p">(</span><span class="n">JL_CMD_VALUE_BK</span><span class="p">)</span><span class="nv">result</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Stop blue scan (firmware --&gt;APP)</span>
<span class="c1">// 0: Timeout end 1: Interrupt end 2: Failed to start scanning 3: Scanning in progress</span>
<span class="k">extern</span><span class="w"> </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">kJL_BT_SCAN_STOP_NOTE</span><span class="p">;</span><span class="w"></span>

<span class="c1">// Notify the firmware to connect the specified blue device</span>
<span class="c1">// @param addr Bluetooth device address</span>
<span class="c1">// @param result  0: Success 1: Failure</span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdBTConnectAddress:</span><span class="p">(</span><span class="bp">NSData</span><span class="o">*</span><span class="p">)</span><span class="nv">addr</span><span class="w"> </span><span class="nf">Result:</span><span class="p">(</span><span class="n">JL_CMD_VALUE_BK</span><span class="p">)</span><span class="nv">result</span><span class="p">;</span><span class="w"></span>

<span class="c1">//File transfer [Firmware --&gt;APP]</span>
<span class="c1">//1.Listen to file data</span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdFileDataMonitorResult:</span><span class="p">(</span><span class="n">JL_FILE_DATA_BK</span><span class="p">)</span><span class="nv">result</span><span class="p">;</span><span class="w"></span>

<span class="c1">//2.Allow transfer of file data</span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdAllowFileData</span><span class="p">;</span><span class="w"></span>

<span class="c1">//3.Refuse to transfer file data</span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdRejectFileData</span><span class="p">;</span><span class="w"></span>

<span class="c1">//4.Stop transferring file data</span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdStopFileData</span><span class="p">;</span><span class="w"></span>

<span class="c1">//File Transfer [APP --&gt;Firmware]</span>
<span class="c1">//5.Request to transfer files to the device</span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdFileDataSize:</span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="nv">size</span><span class="w"></span>
<span class="w">             </span><span class="nl">SavePath</span><span class="p">:(</span><span class="bp">NSString</span><span class="o">*</span><span class="p">)</span><span class="nv">path</span><span class="p">;</span><span class="w"></span>

<span class="c1">//6.Push file data to the device</span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdPushFileData:</span><span class="p">(</span><span class="bp">NSData</span><span class="o">*</span><span class="p">)</span><span class="nv">data</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="get-a-picture-of-the-device">
<h4>2.10.2.2 Get a picture of the device<a class="headerlink" href="#get-a-picture-of-the-device" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm">Get a picture of the device.</span>
<span class="cm">@param vid Device vid</span>
<span class="cm">@param pid Device pid</span>
<span class="cm">@param result Picture data</span>
<span class="cm">*/</span><span class="w"></span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdRequestDeviceImageVid:</span><span class="p">(</span><span class="bp">NSString</span><span class="o">*</span><span class="p">)</span><span class="nv">vid</span><span class="w"></span>
<span class="nl">Pid</span><span class="p">:(</span><span class="bp">NSString</span><span class="o">*</span><span class="p">)</span><span class="nv">pid</span><span class="w"></span>
<span class="nl">Result</span><span class="p">:(</span><span class="n">JL_IMAGE_RT</span><span class="w"> </span><span class="n">__nullable</span><span class="p">)</span><span class="nv">result</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="set-edr-name">
<h4>2.10.2.3 Set EDR name<a class="headerlink" href="#set-edr-name" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="c1">//Ear related API</span>
<span class="cm">/**</span>
<span class="cm">Set EDR name</span>
<span class="cm">@param name</span>
<span class="cm">*/</span><span class="w"></span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdHeatsetEdrName:</span><span class="p">(</span><span class="bp">NSData</span><span class="o">*</span><span class="p">)</span><span class="nv">name</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="key-setting-opposite-ear">
<h4>2.10.2.4 Key setting (opposite ear)<a class="headerlink" href="#key-setting-opposite-ear" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm">Key setting (opposite ear)</span>
<span class="cm">@param key Left ear 0x01 Right ear 0x02</span>
<span class="cm">@param act single click 0x01 double click 0x02</span>
<span class="cm">@param fuc 0x00    No effect</span>
<span class="cm">0x01    power up</span>
<span class="cm">0x02    shutdown</span>
<span class="cm">0x03    Previous song</span>
<span class="cm">0x04    Next song</span>
<span class="cm">0x05    Play/Pause</span>
<span class="cm">0x06    Answer/end</span>
<span class="cm">0x07    Refuse to listen</span>
<span class="cm">0x08    Photograph</span>
<span class="cm">*/</span><span class="w"></span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdHeatsetKeySettingKey:</span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="nv">key</span><span class="w"></span>
<span class="nl">Action</span><span class="p">:(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="nv">act</span><span class="w"></span>
<span class="nl">Function</span><span class="p">:(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="nv">fuc</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="led-setting-opposite-ears">
<h4>2.10.2.5 LED setting (Opposite ears)<a class="headerlink" href="#led-setting-opposite-ears" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm">LED setting (opposite ears)</span>
<span class="cm">@param scene</span>
<span class="cm">unpaired      0x01</span>
<span class="cm">Not connected 0x02</span>
<span class="cm">connect       0x03</span>
<span class="cm">@param effect</span>
<span class="cm">0x00    Total extinction</span>
<span class="cm">0x01    The red light is always on</span>
<span class="cm">0x02    The blue light is always on</span>
<span class="cm">0x03    Red light breathing</span>
<span class="cm">0x04    Blue light breathing</span>
<span class="cm">0x05    Red blue alternating flash</span>
<span class="cm">0x06    Red blue alternating slow flashing</span>
<span class="cm">*/</span><span class="w"></span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdHeatsetLedSettingScene:</span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="nv">scene</span><span class="w"></span>
<span class="nl">Effect</span><span class="p">:(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="nv">effect</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="mic-settings-headset">
<h4>2.10.2.6 MIC settings (headset)<a class="headerlink" href="#mic-settings-headset" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm">MIC settings (headset)</span>
<span class="cm">@param mode</span>
<span class="cm">0： Left ear only</span>
<span class="cm">1： Right ear only</span>
<span class="cm">2： Auto Select</span>
<span class="cm">*/</span><span class="w"></span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdHeatsetMicSettingMode:</span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="nv">mode</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="operating-mode-headset">
<h4>2.10.2.7 Operating mode (headset)<a class="headerlink" href="#operating-mode-headset" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm">Operating mode (headset)</span>
<span class="cm">@param mode</span>
<span class="cm">0： Normal mode</span>
<span class="cm">1： Game mode</span>
<span class="cm">*/</span><span class="w"></span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdHeatsetWorkSettingMode:</span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="nv">mode</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="synchronization-timestamp-headset">
<h4>2.10.2.8 Synchronization timestamp (headset)<a class="headerlink" href="#synchronization-timestamp-headset" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> Synchronization timestamp (headset)</span>
<span class="cm"> @param date  Current system time</span>
<span class="cm">*/</span><span class="w"></span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdHeatsetTimeSetting:</span><span class="p">(</span><span class="bp">NSDate</span><span class="o">*</span><span class="p">)</span><span class="nv">date</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="get-device-information-headset">
<h4>2.10.2.9 Get device information (headset)<a class="headerlink" href="#get-device-information-headset" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm">Get device information (headset)</span>
<span class="cm">@param flag</span>
<span class="cm">BIT0    The format of small electromechanical quantity acquisition is 3 bytes reference broadcast package format</span>
<span class="cm">BIT1    Edr Name</span>
<span class="cm">BIT2    Key functions</span>
<span class="cm">BIT3    LED Show Status</span>
<span class="cm">BIT4    MIC Mode</span>
<span class="cm">BIT5    Operating mode</span>

<span class="cm">@param result</span>
<span class="cm">Back to Dictionary：</span>
<span class="cm">@&quot;ISCHARGING_L&quot;</span>
<span class="cm">@&quot;ISCHARGING_R&quot;</span>
<span class="cm">@&quot;ISCHARGING_C&quot;</span>
<span class="cm">@&quot;POWER_L&quot;</span>
<span class="cm">@&quot;POWER_R&quot;</span>
<span class="cm">@&quot;POWER_C&quot;</span>
<span class="cm">@&quot;EDR&quot;</span>
<span class="cm">@&quot;KEY_LR&quot;</span>
<span class="cm">@&quot;KEY_ACTION&quot;</span>
<span class="cm">@&quot;KEY_FUNCTION&quot;</span>
<span class="cm">@&quot;LED_SCENE&quot;</span>
<span class="cm">@&quot;LED_EFFECT&quot;</span>
<span class="cm">@&quot;MIC_MODE&quot;</span>
<span class="cm">@&quot;WORK_MODE&quot;</span>
<span class="cm">*/</span><span class="w"></span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdHeatsetGetAdvFlag:</span><span class="p">(</span><span class="kt">uint32_t</span><span class="p">)</span><span class="nv">flag</span><span class="w"></span>
<span class="nl">Result</span><span class="p">:(</span><span class="n">JL_HEADSET_BK</span><span class="w"> </span><span class="n">__nullable</span><span class="p">)</span><span class="nv">result</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="device-broadcast-notification-headset">
<h4>2.10.2.10 Device broadcast notification (headset)<a class="headerlink" href="#device-broadcast-notification-headset" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm">Device broadcast notification (headset)</span>
<span class="cm">@{@&quot;JLID&quot;: JLID,</span>
<span class="cm">@&quot;VID&quot;: ,</span>
<span class="cm">@&quot;PID&quot;:  ,</span>
<span class="cm">@&quot;EDR&quot;: ,</span>
<span class="cm">@&quot;SCENE&quot;: ,</span>
<span class="cm">@&quot;ISCHARGING_L&quot;: ,</span>
<span class="cm">@&quot;ISCHARGING_R&quot;: ,</span>
<span class="cm">@&quot;ISCHARGING_C&quot;: ,</span>
<span class="cm">@&quot;POWER_L&quot;: ,</span>
<span class="cm">@&quot;POWER_R&quot;: ,</span>
<span class="cm">@&quot;POWER_C&quot;: ,</span>
<span class="cm">@&quot;CHIP_TYPE&quot;: ,</span>
<span class="cm">@&quot;PROTOCOL_TYPE&quot;: ,</span>
<span class="cm">@&quot;SEQ&quot;: };</span>
<span class="cm">*/</span><span class="w"></span>
<span class="k">extern</span><span class="w"> </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">kJL_HEADSET_ADV</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="turn-off-or-on-device-radio-headset">
<h4>2.10.2.11 Turn off or on device radio (headset)<a class="headerlink" href="#turn-off-or-on-device-radio-headset" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm">Turn off or on device radio (headset)</span>
<span class="cm">@param enable Enabling potential</span>
<span class="cm">*/</span><span class="w"></span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdHeatsetAdvEnable:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">enable</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="used-for-adv-to-set-the-behavior-that-requires-host-operation-after-synchronization">
<h4>2.10.2.12 Used for ADV to set the behavior that requires host operation after synchronization.<a class="headerlink" href="#used-for-adv-to-set-the-behavior-that-requires-host-operation-after-synchronization" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> Used for ADV to set the behavior that requires host operation after synchronization.</span>
<span class="cm">   1: Update the configuration information and restart it to take effect.</span>
<span class="cm"> */</span><span class="w"></span>
<span class="k">extern</span><span class="w"> </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">kJL_HEADSET_TIPS</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="support-for-neck-headset-type">
<h4>2.10.2.13 Support for neck headset type<a class="headerlink" href="#support-for-neck-headset-type" title="Permalink to this headline"></a></h4>
<p>The functions of the neck hook headset are similar to those of the ear headset and TWS headset mentioned above, except that the product modeling is inconsistent. The APP will analyze them in the way of TWS ear headset.</p>
<p>For details<strong>JL_EntityM</strong>the following properties of the class：</p>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm">    JL_DeviceTypeSoundBox           = 0,     //AI speaker type</span>
<span class="cm">    JL_DeviceTypeChargingBin        = 1,     //Charging chamber type</span>
<span class="cm">    JL_DeviceTypeTWS                = 2,     //TWS headphone type</span>
<span class="cm">    JL_DeviceTypeHeadset            = 3,     //Ordinary earphone type</span>
<span class="cm">    JL_DeviceTypeSoundCard          = 4,     //Sound card type</span>
<span class="cm">    JL_DeviceTypeWatch              = 5,     //Watch type</span>
<span class="cm">    JL_DeviceTypeTradition          = -1,    //Traditional device type</span>
<span class="cm"> */</span><span class="w"></span>
<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="n">JL_DeviceType</span><span class="w">   </span><span class="n">mType</span><span class="p">;</span><span class="w"> </span><span class="c1">//Marked here as: TWS headphone type</span>

<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">BOOL</span><span class="w">            </span><span class="n">isCharging_L</span><span class="p">;</span><span class="w"> </span><span class="c1">//The left ear status is displayed as the power of the whole headset</span>
<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">BOOL</span><span class="w">            </span><span class="n">isCharging_R</span><span class="p">;</span><span class="c1">//Zero or no reference</span>
<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">BOOL</span><span class="w">            </span><span class="n">isCharging_C</span><span class="p">;</span><span class="c1">//Zero or no reference</span>
<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w">         </span><span class="n">mPower</span><span class="p">;</span><span class="w">  </span><span class="c1">//The left ear power is displayed as the power of the whole headset</span>
<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w">         </span><span class="n">mPower_L</span><span class="p">;</span><span class="w"> </span><span class="c1">//The left ear power is displayed as the power of the whole headset</span>
<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w">         </span><span class="n">mPower_R</span><span class="p">;</span><span class="w"> </span><span class="c1">//Zero or no reference</span>
<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w">         </span><span class="n">mPower_C</span><span class="p">;</span><span class="c1">//Zero or no reference</span>

<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w">         </span><span class="n">mProtocolType</span><span class="p">;</span><span class="w"> </span><span class="c1">//When the headset is a neck hook headset, the displayed value of this attribute is 0x03, and 0x02 when the device is a normal TWS headset</span>
</pre></div>
</div>
</section>
<section id="matching-function-of-auxiliary-hearing-earphones">
<h4>2.10.2.14 Matching function of auxiliary hearing earphones<a class="headerlink" href="#matching-function-of-auxiliary-hearing-earphones" title="Permalink to this headline"></a></h4>
<blockquote>
<div><p>The auxiliary listening function is used to set the TWS headset, which is not supported by other devices. Implementation depends on<cite>JL_EntityM</cite>the following properties of the class：<cite>mCmdManager</cite>attribute.</p>
</div></blockquote>
<ul>
<li><p>Judge whether the current device supports the auxiliary hearing function：</p>
<blockquote>
<div><p>Whether the auxiliary listening function is currently supported can be checked by<cite>JLModel_Device</cite>the following properties of the class：<cite>isSupportDhaFitting</cite>attribute.</p>
<p><cite>JLModel_Device</cite>Class objects are created by，<cite>JL_EntityM</cite>the following properties of the class：<cite>mCmdManager</cite>attribute，<cite>outputDeviceModel</cite>method to get.</p>
</div></blockquote>
</li>
</ul>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Whether the auxiliary listening setting is supported</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">BOOL</span><span class="w">               </span><span class="n">isSupportDhaFitting</span><span class="p">;</span><span class="w"></span>
<span class="c1">/// Matching information interaction: version, channel number, channel frequency</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">strong</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="n">DhaFittingInfo</span><span class="w">     </span><span class="o">*</span><span class="n">dhaFitInfo</span><span class="p">;</span><span class="w"></span>
<span class="c1">/// Interrupted/enabled objects can only be monitored</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">strong</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="n">DhaFittingSwitch</span><span class="w">   </span><span class="o">*</span><span class="n">dhaFitSwitch</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<ul class="simple">
<li><p>Get the basic information of the current auxiliary listening of the device: version, channel number, channel frequency.</p></li>
</ul>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">JLDhaFitting</span><span class="w"> </span><span class="n">auxiGetInfo</span><span class="o">:^</span><span class="p">(</span><span class="n">DhaFittingInfo</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nonnull</span><span class="w"> </span><span class="n">info</span><span class="p">,</span><span class="w"> </span><span class="bp">NSArray</span><span class="o">&lt;</span><span class="bp">NSNumber</span><span class="w"> </span><span class="o">*&gt;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nonnull</span><span class="w"> </span><span class="n">gains</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">info</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="n">ch_num</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">navigationController</span><span class="w"> </span><span class="n">pushViewController</span><span class="o">:</span><span class="n">vc</span><span class="w"> </span><span class="n">animated</span><span class="o">:</span><span class="nb">true</span><span class="p">];</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">Dialog</span><span class="p">()</span><span class="w"></span>
<span class="w">            </span><span class="c1">//position</span>
<span class="w">                </span><span class="p">.</span><span class="n">wToastPositionSet</span><span class="p">(</span><span class="n">DialogToastBottom</span><span class="p">)</span><span class="w"></span>
<span class="w">                </span><span class="p">.</span><span class="n">wTypeSet</span><span class="p">(</span><span class="n">DialogTypeToast</span><span class="p">)</span><span class="w"></span>
<span class="w">                </span><span class="p">.</span><span class="n">wMessageSet</span><span class="p">(</span><span class="n">kJL_TXT</span><span class="p">(</span><span class="s">&quot;msg_read_file_err_reading&quot;</span><span class="p">))</span><span class="w"></span>
<span class="w">            </span><span class="c1">//Adjust Width</span>
<span class="w">                </span><span class="p">.</span><span class="n">wMainOffsetXSet</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"></span>
<span class="w">                </span><span class="p">.</span><span class="n">wStart</span><span class="p">();</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">Dialog</span><span class="p">()</span><span class="w"></span>
<span class="w">        </span><span class="c1">//position</span>
<span class="w">            </span><span class="p">.</span><span class="n">wToastPositionSet</span><span class="p">(</span><span class="n">DialogToastBottom</span><span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="p">.</span><span class="n">wTypeSet</span><span class="p">(</span><span class="n">DialogTypeToast</span><span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="p">.</span><span class="n">wMessageSet</span><span class="p">(</span><span class="n">kJL_TXT</span><span class="p">(</span><span class="s">&quot;msg_read_file_err_reading&quot;</span><span class="p">))</span><span class="w"></span>
<span class="w">        </span><span class="c1">//Adjust Width</span>
<span class="w">            </span><span class="p">.</span><span class="n">wMainOffsetXSet</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span><span class="w"></span>
<span class="w">            </span><span class="p">.</span><span class="n">wStart</span><span class="p">();</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">Manager</span><span class="o">:</span><span class="p">[[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">]</span><span class="w"> </span><span class="n">mBleEntityM</span><span class="p">].</span><span class="n">mCmdManager</span><span class="p">];</span><span class="w"></span>
</pre></div>
</div>
<ul class="simple">
<li><p>Conduct auxiliary hearing and fitting：</p></li>
</ul>
<blockquote>
<div><div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="n">dhaManager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">JLDhaFitting</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">init</span><span class="p">];</span><span class="w"></span>
<span class="n">JL_ManagerM</span><span class="w"> </span><span class="o">*</span><span class="n">cmd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">]</span><span class="w"> </span><span class="n">mBleEntityM</span><span class="p">].</span><span class="n">mCmdManager</span><span class="p">;</span><span class="w"></span>
<span class="w"> </span><span class="n">DhaFittingData</span><span class="w"> </span><span class="o">*</span><span class="n">dataInfo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">DhaFittingData</span><span class="w"> </span><span class="n">new</span><span class="p">];</span><span class="w"></span>
<span class="n">dataInfo</span><span class="p">.</span><span class="n">leftOn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NO</span><span class="p">;</span><span class="c1">//Is the left ear open</span>
<span class="n">dataInfo</span><span class="p">.</span><span class="n">rightOn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">NO</span><span class="p">;</span><span class="c1">//Is the right ear open</span>
<span class="n">dataInfo</span><span class="p">.</span><span class="n">freq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="c1">//Frequency</span>
<span class="n">dataInfo</span><span class="p">.</span><span class="n">gain</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="c1">//Gain</span>
<span class="p">[</span><span class="n">dhaManager</span><span class="w"> </span><span class="n">auxiCheckByStep</span><span class="o">:</span><span class="n">dataInfo</span><span class="w"> </span><span class="n">Manager</span><span class="o">:</span><span class="n">cmd</span><span class="w"> </span><span class="n">Result</span><span class="o">:^</span><span class="p">(</span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">sn</span><span class="p">,</span><span class="w"> </span><span class="bp">NSData</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Matching：channecl:%d freq:%d gains:%.2f&quot;</span><span class="p">,</span><span class="n">dataInfo</span><span class="p">.</span><span class="n">channel</span><span class="p">,</span><span class="n">dataInfo</span><span class="p">.</span><span class="n">freq</span><span class="p">,</span><span class="n">dataInfo</span><span class="p">.</span><span class="n">gain</span><span class="p">);</span><span class="w"></span>

<span class="p">}];</span><span class="w"></span>
</pre></div>
</div>
</div></blockquote>
<ul class="simple">
<li><p>Save matching settings:</p></li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>It should be noted here that to save the matching settings, you need to rearrange and send the N pieces of data  ` DhaFittingData `  previously matched to the device.</p>
</div>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="bp">NSMutableArray</span><span class="w"> </span><span class="o">*</span><span class="n">newArray</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">NSMutableArray</span><span class="w"> </span><span class="n">new</span><span class="p">];</span><span class="w"></span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">FittingMgr</span><span class="w"> </span><span class="o">*</span><span class="n">item</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nb">self</span><span class="p">.</span><span class="n">results</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">DhaFittingData</span><span class="w"> </span><span class="o">*</span><span class="n">item2</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">item</span><span class="p">.</span><span class="n">dhaList</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="n">newArray</span><span class="w"> </span><span class="n">addObject</span><span class="o">:</span><span class="n">item2</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="n">JL_ManagerM</span><span class="w"> </span><span class="o">*</span><span class="n">mgr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">]</span><span class="w"> </span><span class="n">mBleEntityM</span><span class="p">].</span><span class="n">mCmdManager</span><span class="p">;</span><span class="w"></span>

<span class="p">[</span><span class="n">fitting</span><span class="w"> </span><span class="n">auxiSaveGainsList</span><span class="o">:</span><span class="n">newArray</span><span class="w"> </span><span class="n">Manager</span><span class="o">:</span><span class="n">mgr</span><span class="w"> </span><span class="n">Type</span><span class="o">:</span><span class="p">[</span><span class="nb">self</span><span class="w"> </span><span class="n">getType</span><span class="p">]</span><span class="w"> </span><span class="n">Result</span><span class="o">:^</span><span class="p">(</span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">sn</span><span class="p">,</span><span class="w"> </span><span class="bp">NSData</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="c1">//Saving succeeded or failed</span>
<span class="p">}];</span><span class="w"></span>
</pre></div>
</div>
<ul class="simple">
<li><p>Withdraw from assisted hearing fitting：</p></li>
</ul>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="n">JL_ManagerM</span><span class="w"> </span><span class="o">*</span><span class="n">cmd</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">]</span><span class="w"> </span><span class="n">mBleEntityM</span><span class="p">].</span><span class="n">mCmdManager</span><span class="p">;</span><span class="w"></span>
<span class="p">[[</span><span class="n">JLDhaFitting</span><span class="w"> </span><span class="n">new</span><span class="p">]</span><span class="w"> </span><span class="n">auxiCloseManager</span><span class="o">:</span><span class="n">cmd</span><span class="w"> </span><span class="n">Result</span><span class="o">:^</span><span class="p">(</span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">sn</span><span class="p">,</span><span class="w"> </span><span class="bp">NSData</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Exit fitting&quot;</span><span class="p">);</span><span class="w"></span>
<span class="p">}];</span><span class="w"></span>
</pre></div>
</div>
<p>In the current protocol version, only the auxiliary hearing switch is set through the firmware key, so the device will automatically enter the auxiliary hearing matching state when the auxiliary hearing switch is turned on. Every time the device information is requested and the reply is correct, the device will enter the auxiliary hearing and matching state.
Under this specific condition, it is necessary to pay attention to the operation of quitting the auxiliary hearing fitting in time.</p>
<ul class="simple">
<li><p>The monitoring device pushes out the auxiliary hearing verification status：</p></li>
</ul>
<p>Use the KVO method to monitor the device to push out the auxiliary hearing and matching status. When the device pushes out the auxiliary hearing and matching status, the callback will be triggered.</p>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="k">@interface</span> <span class="nc">FittingBasicVC</span><span class="w"> </span><span class="p">(){</span><span class="w"></span>
<span class="w">    </span><span class="n">JLModel_Device</span><span class="w"> </span><span class="o">*</span><span class="n">devModel</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>

<span class="k">@implementation</span> <span class="nc">FittingBasicVC</span><span class="w"></span>
<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">viewDidLoad</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="n">dhaFitSwitchContext</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">dhaFitSwitchContext</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="n">devModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">]</span><span class="w"> </span><span class="n">mBleEntityM</span><span class="p">].</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">getDeviceModel</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="n">devModel</span><span class="w"> </span><span class="n">addObserver</span><span class="o">:</span><span class="nb">self</span><span class="w"> </span><span class="n">forKeyPath</span><span class="o">:</span><span class="s">@&quot;dhaFitSwitch&quot;</span><span class="w"> </span><span class="n">options</span><span class="o">:</span><span class="n">NSKeyValueObservingOptionNew</span><span class="w"> </span><span class="n">context</span><span class="o">:</span><span class="n">dhaFitSwitchContext</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="p">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">observeValueForKeyPath:</span><span class="p">(</span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">keyPath</span><span class="w"> </span><span class="nf">ofObject:</span><span class="p">(</span><span class="kt">id</span><span class="p">)</span><span class="nv">object</span><span class="w"> </span><span class="nf">change:</span><span class="p">(</span><span class="bp">NSDictionary</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">change</span><span class="w"> </span><span class="nf">context:</span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">context</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">dhaFitSwitchContext</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">([</span><span class="n">change</span><span class="w"> </span><span class="n">objectForKey</span><span class="o">:</span><span class="s">@&quot;new&quot;</span><span class="p">])</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">            </span><span class="n">JL_ManagerM</span><span class="w"> </span><span class="o">*</span><span class="n">manager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">]</span><span class="w"> </span><span class="n">mBleEntityM</span><span class="p">].</span><span class="n">mCmdManager</span><span class="p">;</span><span class="w"></span>
<span class="w">            </span><span class="n">TwsElectricity</span><span class="w"> </span><span class="o">*</span><span class="n">electricity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">manager</span><span class="p">.</span><span class="n">mTwsManager</span><span class="p">.</span><span class="n">electricity</span><span class="p">;</span><span class="w"></span>
<span class="w">            </span><span class="n">DhaFittingSwitch</span><span class="w"> </span><span class="o">*</span><span class="n">sw</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">change</span><span class="w"> </span><span class="n">objectForKey</span><span class="o">:</span><span class="s">@&quot;new&quot;</span><span class="p">];</span><span class="w"></span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">electricity</span><span class="p">.</span><span class="n">powerLeft</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">electricity</span><span class="p">.</span><span class="n">powerRight</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="c1">//Binaural</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sw</span><span class="p">.</span><span class="n">rightOn</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NO</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">sw</span><span class="p">.</span><span class="n">leftOn</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NO</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="p">[</span><span class="nb">self</span><span class="w"> </span><span class="n">goBackToRoot</span><span class="p">];</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">electricity</span><span class="p">.</span><span class="n">powerLeft</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">electricity</span><span class="p">.</span><span class="n">powerRight</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="c1">//Right ear</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sw</span><span class="p">.</span><span class="n">rightOn</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NO</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="p">[</span><span class="nb">self</span><span class="w"> </span><span class="n">goBackToRoot</span><span class="p">];</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>

<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">electricity</span><span class="p">.</span><span class="n">powerRight</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">electricity</span><span class="p">.</span><span class="n">powerLeft</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="c1">//Left ear</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">sw</span><span class="p">.</span><span class="n">leftOn</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">NO</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="p">[</span><span class="nb">self</span><span class="w"> </span><span class="n">goBackToRoot</span><span class="p">];</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>

<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="nb">super</span><span class="w"> </span><span class="n">observeValueForKeyPath</span><span class="o">:</span><span class="n">keyPath</span><span class="w"> </span><span class="n">ofObject</span><span class="o">:</span><span class="n">object</span><span class="w"> </span><span class="n">change</span><span class="o">:</span><span class="n">change</span><span class="w"> </span><span class="n">context</span><span class="o">:</span><span class="n">context</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">viewDidDisappear:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">animated</span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">super</span><span class="w"> </span><span class="n">viewDidDisappear</span><span class="o">:</span><span class="n">animated</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="n">devModel</span><span class="w"> </span><span class="n">removeObserver</span><span class="o">:</span><span class="nb">self</span><span class="w"> </span><span class="n">forKeyPath</span><span class="o">:</span><span class="s">@&quot;dhaFitSwitch&quot;</span><span class="w"> </span><span class="n">context</span><span class="o">:</span><span class="n">dhaFitSwitchContext</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">goBackToRoot</span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">navigationController</span><span class="w"> </span><span class="n">popToRootViewControllerAnimated</span><span class="o">:</span><span class="nb">YES</span><span class="p">];</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">@end</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="one-to-two-headphone-function-support">
<h4>2.10.2.15 One-to-two headphone function support<a class="headerlink" href="#one-to-two-headphone-function-support" title="Permalink to this headline"></a></h4>
<p>The support for the one-drag-two function can be determined by <cite>isSupportDragWithMore;</cite> under the extended function support attribute <strong>TwsSupportFuncs *supports;</strong> of the <cite>JL_TwsManager</cite> class;</p>
<ul class="simple">
<li><p>Get the name of the connected mobile phone of the device:</p></li>
</ul>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="bp">NSMutableArray</span><span class="w"> </span><span class="o">*</span><span class="n">itemList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">NSMutableArray</span><span class="w"> </span><span class="n">new</span><span class="p">];</span><span class="w"></span>

<span class="n">JL_TwsManager</span><span class="w"> </span><span class="o">*</span><span class="n">tws</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">JL_RunSDK</span><span class="w"> </span><span class="n">sharedMe</span><span class="p">]</span><span class="w"> </span><span class="n">mBleEntityM</span><span class="p">].</span><span class="n">mCmdManager</span><span class="p">.</span><span class="n">mTwsManager</span><span class="p">;</span><span class="w"></span>

<span class="p">[</span><span class="n">tws</span><span class="w"> </span><span class="n">cmdGetDeviceInfoListResult</span><span class="o">:^</span><span class="p">(</span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="bp">NSArray</span><span class="o">&lt;</span><span class="n">JLTWSAddrNameInfo</span><span class="w"> </span><span class="o">*&gt;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">phoneInfos</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_CMDStatusSuccess</span><span class="p">){</span><span class="w"></span>

<span class="w">        </span><span class="p">[</span><span class="nb">self</span><span class="o">-&gt;</span><span class="n">itemList</span><span class="w"> </span><span class="n">setArray</span><span class="o">:</span><span class="n">phoneInfos</span><span class="p">];</span><span class="w"></span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">JLTWSAddrNameInfo</span><span class="w"> </span><span class="o">*</span><span class="n">info</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">phoneInfos</span><span class="p">){</span><span class="w"></span>
<span class="w">            </span><span class="p">[</span><span class="n">info</span><span class="w"> </span><span class="n">logProperties</span><span class="p">];</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>

<span class="w">        </span><span class="bp">NSData</span><span class="w"> </span><span class="o">*</span><span class="n">addr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">NSUserDefaults</span><span class="w"> </span><span class="n">standardUserDefaults</span><span class="p">]</span><span class="w"> </span><span class="n">valueForKey</span><span class="o">:</span><span class="n">PhoneEdrAddr</span><span class="p">];</span><span class="w"></span>

<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">phoneInfos</span><span class="p">.</span><span class="n">count</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">){</span><span class="w"></span>
<span class="w">            </span><span class="n">JLTWSAddrNameInfo</span><span class="w"> </span><span class="o">*</span><span class="n">info</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">phoneInfos</span><span class="p">.</span><span class="n">firstObject</span><span class="p">;</span><span class="w"></span>
<span class="w">            </span><span class="p">[[</span><span class="bp">NSUserDefaults</span><span class="w"> </span><span class="n">standardUserDefaults</span><span class="p">]</span><span class="w"> </span><span class="n">setValue</span><span class="o">:</span><span class="n">info</span><span class="p">.</span><span class="n">phoneEdrAddr</span><span class="w"> </span><span class="n">forKey</span><span class="o">:</span><span class="n">PhoneEdrAddr</span><span class="p">];</span><span class="w"></span>
<span class="w">            </span><span class="p">[[</span><span class="bp">NSUserDefaults</span><span class="w"> </span><span class="n">standardUserDefaults</span><span class="p">]</span><span class="w"> </span><span class="n">setValue</span><span class="o">:</span><span class="n">info</span><span class="p">.</span><span class="n">phoneName</span><span class="w"> </span><span class="n">forKey</span><span class="o">:</span><span class="n">PhoneName</span><span class="p">];</span><span class="w"></span>
<span class="w">            </span><span class="p">[[</span><span class="bp">NSUserDefaults</span><span class="w"> </span><span class="n">standardUserDefaults</span><span class="p">]</span><span class="w"> </span><span class="n">synchronize</span><span class="p">];</span><span class="w"></span>
<span class="w">            </span><span class="c1">//bind</span>
<span class="w">            </span><span class="p">[</span><span class="n">tws</span><span class="w"> </span><span class="n">cmdBindDeviceInfo</span><span class="o">:</span><span class="n">info</span><span class="p">.</span><span class="n">phoneEdrAddr</span><span class="w"> </span><span class="n">phone</span><span class="o">:</span><span class="n">info</span><span class="p">.</span><span class="n">phoneName</span><span class="w"> </span><span class="n">result</span><span class="o">:^</span><span class="p">(</span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="bp">NSArray</span><span class="o">&lt;</span><span class="n">JLTWSAddrNameInfo</span><span class="w"> </span><span class="o">*&gt;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">phoneInfos</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="p">[</span><span class="nb">self</span><span class="o">-&gt;</span><span class="n">subTable</span><span class="w"> </span><span class="n">reloadData</span><span class="p">];</span><span class="w"></span>
<span class="w">            </span><span class="p">}];</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">phoneInfos</span><span class="p">.</span><span class="n">count</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">2</span><span class="p">){</span><span class="w"></span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="n">JLTWSAddrNameInfo</span><span class="w"> </span><span class="o">*</span><span class="n">info</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">phoneInfos</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">info</span><span class="p">.</span><span class="n">isBind</span><span class="p">){</span><span class="w"></span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">([</span><span class="n">info</span><span class="p">.</span><span class="n">phoneEdrAddr</span><span class="w"> </span><span class="n">isEqualToData</span><span class="o">:</span><span class="n">addr</span><span class="p">]){</span><span class="w"></span>
<span class="w">                        </span><span class="p">[[</span><span class="bp">NSUserDefaults</span><span class="w"> </span><span class="n">standardUserDefaults</span><span class="p">]</span><span class="w"> </span><span class="n">setValue</span><span class="o">:</span><span class="n">info</span><span class="p">.</span><span class="n">phoneName</span><span class="w"> </span><span class="n">forKey</span><span class="o">:</span><span class="n">PhoneName</span><span class="p">];</span><span class="w"></span>
<span class="w">                        </span><span class="p">[[</span><span class="bp">NSUserDefaults</span><span class="w"> </span><span class="n">standardUserDefaults</span><span class="p">]</span><span class="w"> </span><span class="n">synchronize</span><span class="p">];</span><span class="w"></span>
<span class="w">                        </span><span class="c1">//bind</span>
<span class="w">                        </span><span class="p">[</span><span class="n">tws</span><span class="w"> </span><span class="n">cmdBindDeviceInfo</span><span class="o">:</span><span class="n">info</span><span class="p">.</span><span class="n">phoneEdrAddr</span><span class="w"> </span><span class="n">phone</span><span class="o">:</span><span class="n">info</span><span class="p">.</span><span class="n">phoneName</span><span class="w"> </span><span class="n">result</span><span class="o">:^</span><span class="p">(</span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="bp">NSArray</span><span class="o">&lt;</span><span class="n">JLTWSAddrNameInfo</span><span class="w"> </span><span class="o">*&gt;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">phoneInfos</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                            </span><span class="p">[</span><span class="nb">self</span><span class="o">-&gt;</span><span class="n">subTable</span><span class="w"> </span><span class="n">reloadData</span><span class="p">];</span><span class="w"></span>
<span class="w">                        </span><span class="p">}];</span><span class="w"></span>

<span class="w">                    </span><span class="p">}</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="p">([</span><span class="n">info</span><span class="p">.</span><span class="n">phoneEdrAddr</span><span class="w"> </span><span class="n">isEqualToData</span><span class="o">:</span><span class="n">addr</span><span class="p">]){</span><span class="w"></span>
<span class="w">                        </span><span class="p">[[</span><span class="bp">NSUserDefaults</span><span class="w"> </span><span class="n">standardUserDefaults</span><span class="p">]</span><span class="w"> </span><span class="n">setValue</span><span class="o">:</span><span class="n">info</span><span class="p">.</span><span class="n">phoneEdrAddr</span><span class="w"> </span><span class="n">forKey</span><span class="o">:</span><span class="n">PhoneEdrAddr</span><span class="p">];</span><span class="w"></span>
<span class="w">                        </span><span class="p">[[</span><span class="bp">NSUserDefaults</span><span class="w"> </span><span class="n">standardUserDefaults</span><span class="p">]</span><span class="w"> </span><span class="n">setValue</span><span class="o">:</span><span class="n">info</span><span class="p">.</span><span class="n">phoneName</span><span class="w"> </span><span class="n">forKey</span><span class="o">:</span><span class="n">PhoneName</span><span class="p">];</span><span class="w"></span>
<span class="w">                        </span><span class="p">[[</span><span class="bp">NSUserDefaults</span><span class="w"> </span><span class="n">standardUserDefaults</span><span class="p">]</span><span class="w"> </span><span class="n">synchronize</span><span class="p">];</span><span class="w"></span>
<span class="w">                        </span><span class="c1">//bind</span>
<span class="w">                        </span><span class="p">[</span><span class="n">tws</span><span class="w"> </span><span class="n">cmdBindDeviceInfo</span><span class="o">:</span><span class="n">info</span><span class="p">.</span><span class="n">phoneEdrAddr</span><span class="w"> </span><span class="n">phone</span><span class="o">:</span><span class="n">info</span><span class="p">.</span><span class="n">phoneName</span><span class="w"> </span><span class="n">result</span><span class="o">:^</span><span class="p">(</span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"> </span><span class="bp">NSArray</span><span class="o">&lt;</span><span class="n">JLTWSAddrNameInfo</span><span class="w"> </span><span class="o">*&gt;</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">phoneInfos</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                            </span><span class="p">[</span><span class="nb">self</span><span class="o">-&gt;</span><span class="n">subTable</span><span class="w"> </span><span class="n">reloadData</span><span class="p">];</span><span class="w"></span>
<span class="w">                        </span><span class="p">}];</span><span class="w"></span>
<span class="w">                    </span><span class="p">}</span><span class="w"></span>
<span class="w">                </span><span class="p">}</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="o">-&gt;</span><span class="n">subTable</span><span class="w"> </span><span class="n">reloadData</span><span class="p">];</span><span class="w"></span>
<span class="p">}];</span><span class="w"></span>
</pre></div>
</div>
<p>The above logic is a judgment to determine the Bluetooth address corresponding to this machine:</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ol class="arabic simple">
<li><p>When the device returns information about only one mobile phone, the mobile phone needs to update and record the name and address (regardless of whether it has been recorded). If the local record (name or address) of the mobile phone has changed, please bind it and resend it. C031;</p></li>
<li><p>When the device returns that the information on both mobile phones is not bound, the mobile phone does not perform any operation;</p></li>
<li><p>When the device returns information about two mobile phones, one of which is bound and the other is not:</p></li>
<li><p>If the bound address matches the local one of the mobile phone, check whether there is an update. If there is an update, resend the C031 command. If there is no update, no processing will be performed;</p></li>
<li><p>If the bound address does not match the local one of the mobile phone (including the local mobile phone), the unbound mobile phone information is the information of the current mobile phone. After binding, resend the C031 command.</p></li>
</ol>
</div>
<p>One-to-two device list information can also be obtained through the following notifications:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">///</span> <span class="n">Device</span> <span class="n">upload</span> <span class="n">one</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">two</span> <span class="n">device</span> <span class="n">information</span> <span class="nb">list</span>
<span class="n">extern</span> <span class="n">NSString</span><span class="o">*</span> <span class="n">kJL_MULIT_NAME_LIST</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><dl class="simple">
<dt>Notify the device of the connected mobile phone address and binding information</dt><dd><p>This interface needs to be used in conjunction with the above-mentioned interface for obtaining device connected mobile phone information. The specific binding rules are as mentioned in the above points.</p>
</dd>
</dl>
</li>
</ul>
<ul class="simple">
<li><p>The device turns on/off the multi-connection mobile phone interface</p></li>
</ul>
</section>
</section>
</section>
<section id="anc-setting-function">
<h2>2.11 ANC setting function<a class="headerlink" href="#anc-setting-function" title="Permalink to this headline"></a></h2>
<section id="id17">
<h3>2.11.1 Function description<a class="headerlink" href="#id17" title="Permalink to this headline"></a></h3>
<p>The current interface only works for earphones with noise reduction function. It belongs to the public interface and is available in the properties of the relevant fields in the ‘JLDeviceModel’ object of the JL_Manager.h class.</p>
</section>
<section id="id18">
<h3>2.11.2 Sample code<a class="headerlink" href="#id18" title="Permalink to this headline"></a></h3>
<div class="highlight-objective-c notranslate"><div class="highlight"><pre><span></span><span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint8_t</span><span class="w">            </span><span class="n">mAncMode</span><span class="p">;</span><span class="w">        </span><span class="c1">//Headset noise reduction mode</span>
<span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">strong</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="bp">NSArray</span><span class="w">            </span><span class="o">*</span><span class="n">mAncModeTypes</span><span class="p">;</span><span class="w">  </span><span class="c1">//Modes supported by active noise reduction of earphones</span>
</pre></div>
</div>
<ul class="simple">
<li><p>At present, there are two interfaces. One is to set the noise reduction mode of the headset, and the other is to set how many noise reduction modes the headset can support.</p></li>
</ul>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Active noise reduction ANC of earphones</span>
<span class="c1">/// @param Mode (0x01: normal mode 0x02: noise reduction mode 0x03: transparent mode)</span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdSetAncMode:</span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)</span><span class="nv">mode</span><span class="p">;</span><span class="w"></span>

<span class="c1">/// Active noise reduction ANC of earphones (mode enable)</span>
<span class="c1">/// @param modeTypes Supported Modes @[@(JL_ANCType_Normal),@(JL_ANCType_NoiseReduction).....]</span>
<span class="c1">/// JL_ANCType_Normal                = 0,    //Normal mode</span>
<span class="c1">/// JL_ANCType_NoiseReduction        = 1,    //Noise reduction mode</span>
<span class="c1">/// JL_ANCType_Transparent           = 2,    //Bridge Mode</span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdSetAncModeTypes:</span><span class="p">(</span><span class="bp">NSArray</span><span class="w"> </span><span class="o">*</span><span class="p">)</span><span class="nv">modeTypes</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="add-anc-active-noise-reduction-to-the-headset-sdk">
<h3>2.11.3 Add ANC (active noise reduction) to the headset SDK<a class="headerlink" href="#add-anc-active-noise-reduction-to-the-headset-sdk" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Headset active noise reduction support mode</p></li>
</ul>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">copy</span><span class="w">  </span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="bp">NSMutableArray</span><span class="w">     </span><span class="o">*</span><span class="n">mAncModeArray</span><span class="p">;</span><span class="w">         </span><span class="c1">//ANC mode array</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Active noise reduction of headphones Current mode</p></li>
</ul>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="k">@property</span><span class="w"> </span><span class="p">(</span><span class="k">copy</span><span class="w">  </span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="n">JLModel_ANC</span><span class="w">        </span><span class="o">*</span><span class="n">mAncModeCurrent</span><span class="p">;</span><span class="w">       </span><span class="c1">//Current ANC mode</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Set active noise reduction for headphones</p></li>
</ul>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="k">@interface</span> <span class="nc">JLModel_ANC</span> : <span class="bp">NSObject</span><span class="w"></span>
<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="n">JL_AncMode</span><span class="w">       </span><span class="n">mAncMode</span><span class="p">;</span><span class="w">               </span><span class="c1">//Headset noise reduction mode</span>
<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w">        </span><span class="n">mAncMax_L</span><span class="p">;</span><span class="w">              </span><span class="c1">//Left ear maximum gain</span>
<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w">        </span><span class="n">mAncCurrent_L</span><span class="p">;</span><span class="w">          </span><span class="c1">//Current gain of left ear</span>
<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w">        </span><span class="n">mAncMax_R</span><span class="p">;</span><span class="w">              </span><span class="c1">//Right ear maximum gain</span>
<span class="k">@property</span><span class="p">(</span><span class="k">assign</span><span class="p">,</span><span class="k">nonatomic</span><span class="p">)</span><span class="w"> </span><span class="kt">uint16_t</span><span class="w">        </span><span class="n">mAncCurrent_R</span><span class="p">;</span><span class="w">          </span><span class="c1">//Current gain of right ear</span>
<span class="p">-(</span><span class="bp">NSData</span><span class="o">*</span><span class="p">)</span><span class="nf">dataModel</span><span class="p">;</span><span class="w"></span>

<span class="cp">#pragma mark ---&gt; Active noise reduction ANC setting of headphones</span>
<span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdSetANC:</span><span class="p">(</span><span class="n">JLModel_ANC</span><span class="o">*</span><span class="p">)</span><span class="nv">model</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
<section id="sound-card-function-configuration">
<h2>2.12 Sound card function configuration<a class="headerlink" href="#sound-card-function-configuration" title="Permalink to this headline"></a></h2>
<section id="id19">
<h3>2.12.1 Function description<a class="headerlink" href="#id19" title="Permalink to this headline"></a></h3>
<blockquote>
<div><p>Processing of sound card equipment</p>
</div></blockquote>
</section>
<section id="id20">
<h3>2.12.2 Sample code<a class="headerlink" href="#id20" title="Permalink to this headline"></a></h3>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="k">extern</span><span class="w"> </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">kJL_MANAGER_KALAOK_Data</span><span class="p">;</span><span class="w"></span>

<span class="cp">#pragma mark ---&gt; Set karaoke【index、value】</span>
<span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdSetKalaokIndex:</span><span class="p">(</span><span class="kt">uint8_t</span><span class="p">)</span> <span class="nv">index</span><span class="w"> </span><span class="nf">Value:</span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span> <span class="nv">value</span><span class="p">;</span><span class="w"></span>

<span class="cp">#pragma mark ---&gt; Set karaoke【MIC EQ gain】</span>
<span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdSetKaraokeMicEQ:</span><span class="p">(</span><span class="bp">NSArray</span><span class="o">*</span><span class="p">)</span><span class="nv">array</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="sound-card-effect-settings">
<h3>2.12.3 Sound card effect settings<a class="headerlink" href="#sound-card-effect-settings" title="Permalink to this headline"></a></h3>
<p>The sound card setting effect is based on the following json ‘id’ pickup</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="w"></span>
<span class="nt">&quot;hasEq&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;true&quot;</span><span class="p">,</span><span class="w"></span>
<span class="nt">&quot;function&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;变声&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Voice&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;select&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;icon_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;icon_voice_nol.png&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;column&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;paging&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;list&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;正常&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Normal&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;男声&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Boy&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;女声&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Girl&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;童音&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Children&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;魔音&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Magic&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;电音&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;EM&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;group&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;list&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A大调&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;A major&quot;</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;升A大调&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;L A major&quot;</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;B大调&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;B major&quot;</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;C大调&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;C major&quot;</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;升C大调&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;L C major&quot;</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">9</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;D大调&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;D major&quot;</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;升D大调&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;L D major&quot;</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">11</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;E大调&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;E major&quot;</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;F大调&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;F major&quot;</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;升F大调&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;L F major&quot;</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;G大调&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;G major&quot;</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;升G大调&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;L G major&quot;</span><span class="w"></span>
<span class="w">            </span><span class="p">},</span><span class="w"></span>
<span class="w">            </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">16</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">      </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">},</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;其他&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Other&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;icon_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;icon_others_nol.png&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;select&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;column&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;paging&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;list&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;爆音&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Popping&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">36</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;喊麦&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Shout&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">37</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;闪避&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Dodge&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">38</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">},</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;气氛&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;AtmosPhere&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;icon_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;icon_effect_nol.png&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;img_select&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;column&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;paging&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;row&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;list&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;欢呼&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Cheers&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">17</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;icon_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;img_cheer.png&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;尴尬&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Awkward&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">18</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;icon_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;img_awkward.png&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;枪声&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Gunfire&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">19</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;icon_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;img_gun.png&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;鄙视&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Despise&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;icon_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;img_despise.png&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;开场&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Stage&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">21</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;icon_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;img_stage.png&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;飞吻&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Kiss&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">22</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;icon_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;img_kiss.png&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;笑声&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Laugh&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">23</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;icon_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;img_laugh.png&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;掌声&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Applause&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">24</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;icon_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;img_applause.png&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;请关注&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Attention&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;icon_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;img_follow.png&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;么么哒&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Mua&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">26</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;icon_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;img_memeda.png&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">         </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;贼啦啦&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Song01&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">27</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;icon_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;img_song_01.png&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;非诚勿扰&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Song02&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">28</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;icon_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;img_song_02.png&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">  </span><span class="p">]</span><span class="w"></span>
<span class="p">},</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Mic参数&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Mic Args&quot;</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;icon_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;icon_settle_nol.png&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;slider&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="nt">&quot;list&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"></span>
<span class="w">     </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;麦音量&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Mic Vol&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">29</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;enable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;录音音量&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Record Vol&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;enable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;混响&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Reverberation&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">31</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;enable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;高音&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;High&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">32</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;enable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;低音&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Bass&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">33</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;enable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;伴奏音量&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Accomp Vol&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">34</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;enable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w"></span>
<span class="w">    </span><span class="p">},</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;zh&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;监听音量&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;en&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Monitor Vol&quot;</span><span class="w"></span>
<span class="w">        </span><span class="p">},</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;enable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="nt">&quot;max&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="p">]</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">]</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
<section id="find-device-features">
<h2>2.13 Find device features<a class="headerlink" href="#find-device-features" title="Permalink to this headline"></a></h2>
<section id="id21">
<h3>2.13.1 Function description<a class="headerlink" href="#id21" title="Permalink to this headline"></a></h3>
<p>After receiving the command from the device, the user can find the phone by playing the audio of the phone, or the device makes a sound by sending the command to the device.</p>
</section>
<section id="id22">
<h3>2.13.2 Sample code<a class="headerlink" href="#id22" title="Permalink to this headline"></a></h3>
<p>Notification of device searching for mobile phone, with ringing duration</p>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="k">extern</span><span class="w"> </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">kJL_BT_FIND_PHONE</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<p>Find Device Command</p>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="c1">/// Find Device Command</span>
<span class="c1">/// @param isVoice Whether to make sound</span>
<span class="c1">/// @param timeout Timeout</span>
<span class="c1">/// @param isIphone Whether the device finds the mobile phone (by default, the mobile phone finds the device)</span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdFindDevice:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">isVoice</span><span class="w"> </span><span class="nf">timeOut:</span><span class="p">(</span><span class="kt">uint16_t</span><span class="p">)</span><span class="nv">timeout</span><span class="w"> </span><span class="nf">findIphone:</span><span class="p">(</span><span class="kt">BOOL</span><span class="p">)</span><span class="nv">isIphone</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
<section id="user-defined-command-function">
<h2>2.14 User defined command function<a class="headerlink" href="#user-defined-command-function" title="Permalink to this headline"></a></h2>
<section id="id23">
<h3>2.14.1 Function description<a class="headerlink" href="#id23" title="Permalink to this headline"></a></h3>
<blockquote>
<div><p>User defined data can be sent and received through this interface.</p>
</div></blockquote>
</section>
<section id="id24">
<h3>2.14.2 Sample code<a class="headerlink" href="#id24" title="Permalink to this headline"></a></h3>
<div class="highlight-objective-c notranslate"><div class="highlight"><pre><span></span><span class="c1">//Send custom data</span>
<span class="bp">NSData</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="bp">NSData</span><span class="w"> </span><span class="n">new</span><span class="p">];</span><span class="w"></span>
<span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">mBleEntityM</span><span class="p">.</span><span class="n">mCmdManager</span><span class="p">.</span><span class="n">mCustomManager</span><span class="w"> </span><span class="n">cmdCustomData</span><span class="o">:</span><span class="n">data</span><span class="w"></span>
<span class="w">                                                    </span><span class="nl">Result</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">JL_CMDStatus</span><span class="w"> </span><span class="n">status</span><span class="p">,</span><span class="w"></span>
<span class="w">                                                             </span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">sn</span><span class="p">,</span><span class="w"> </span><span class="bp">NSData</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">data</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_CMDStatusSuccess</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Number of posts succeeded...&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;Number of sends failed...&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}];</span><span class="w"></span>

<span class="c1">//Receive custom data</span>
<span class="p">[</span><span class="n">JL_Tools</span><span class="w"> </span><span class="n">add</span><span class="o">:</span><span class="n">kJL_MANAGER_CUSTOM_DATA</span><span class="w"> </span><span class="n">Action</span><span class="o">:</span><span class="k">@selector</span><span class="p">(</span><span class="n">noteCustomData</span><span class="o">:</span><span class="p">)</span><span class="w"> </span><span class="n">Own</span><span class="o">:</span><span class="nb">self</span><span class="p">];</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="id25">
<h3>2.14.3 Matters needing attention<a class="headerlink" href="#id25" title="Permalink to this headline"></a></h3>
<p>If the number is successful, there will be<code class="docutils literal notranslate"><span class="pre">JL_CMDStatusSuccess</span></code>callback.</p>
</section>
</section>
<section id="ota">
<h2>2.15 OTA<a class="headerlink" href="#ota" title="Permalink to this headline"></a></h2>
<section id="id26">
<h3>2.15.1 Function description<a class="headerlink" href="#id26" title="Permalink to this headline"></a></h3>
<blockquote>
<div><p>Upgrade the equipment, refer to the detailed version：<cite>【Jieli OTA Upgrade(iOS) development description】 &lt;https://doc.zh-jieli.com/Apps/iOS/ota/zh-cn/master/index.html&gt;</cite></p>
</div></blockquote>
</section>
<section id="id27">
<h3>2.15.2 Use demo<a class="headerlink" href="#id27" title="Permalink to this headline"></a></h3>
<section id="ota-upgrade-file-download">
<h4>2.15.2.1 OTA upgrade file download<a class="headerlink" href="#ota-upgrade-file-download" title="Permalink to this headline"></a></h4>
<p>If the server resources provided by Jerry are used, the following interfaces can be used to download the upgrade files after negotiation.</p>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm">OTA upgrade file download</span>
<span class="cm">@param key</span>
<span class="cm">@param code</span>
<span class="cm">@param result</span>
<span class="cm">*/</span><span class="w"></span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdGetOtaFileKey:</span><span class="p">(</span><span class="bp">NSString</span><span class="o">*</span><span class="p">)</span><span class="nv">key</span><span class="w"></span>
<span class="nl">Code</span><span class="p">:(</span><span class="bp">NSString</span><span class="o">*</span><span class="p">)</span><span class="nv">code</span><span class="w"></span>
<span class="nl">Result</span><span class="p">:(</span><span class="n">JL_OTA_URL</span><span class="w"> </span><span class="n">__nullable</span><span class="p">)</span><span class="nv">result</span><span class="p">;</span><span class="w"></span>

<span class="cm">/**</span>
<span class="cm">OTA upgrade file download [MD5]</span>
<span class="cm">@param key</span>
<span class="cm">@param code</span>
<span class="cm">@param hash</span>
<span class="cm">@param result</span>
<span class="cm">*/</span><span class="w"></span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdGetOtaFileKey:</span><span class="p">(</span><span class="bp">NSString</span><span class="o">*</span><span class="p">)</span><span class="nv">key</span><span class="w"></span>
<span class="w">                   </span><span class="nl">Code</span><span class="p">:(</span><span class="bp">NSString</span><span class="o">*</span><span class="p">)</span><span class="nv">code</span><span class="w"></span>
<span class="w">                   </span><span class="nl">hash</span><span class="p">:(</span><span class="bp">NSString</span><span class="o">*</span><span class="p">)</span><span class="nv">hash</span><span class="w"></span>
<span class="w">                 </span><span class="nl">Result</span><span class="p">:(</span><span class="n">JL_OTA_URL</span><span class="w"> </span><span class="n">__nullable</span><span class="p">)</span><span class="nv">result</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="ota-upgrading-equipment">
<h4>2.15.2.2 OTA upgrading equipment<a class="headerlink" href="#ota-upgrading-equipment" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm">OTA upgrading equipment</span>
<span class="cm">@param data Upgrade Data</span>
<span class="cm">@param result Upgrade Results</span>
<span class="cm">*/</span><span class="w"></span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdOTAData:</span><span class="p">(</span><span class="bp">NSData</span><span class="o">*</span><span class="p">)</span><span class="nv">data</span><span class="w"></span>
<span class="nl">Result</span><span class="p">:(</span><span class="n">JL_OTA_RT</span><span class="w"> </span><span class="n">__nullable</span><span class="p">)</span><span class="nv">result</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="ota-upgrade-status">
<h4>2.15.2.3 OTA upgrade status<a class="headerlink" href="#ota-upgrade-status" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="n">JL_OtaStatusNormal</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">    </span><span class="c1">//Normal upgrade</span>
<span class="n">JL_OtaStatusForce</span><span class="w">               </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">    </span><span class="c1">//Force Upgrade</span>
</pre></div>
</div>
</section>
<section id="ota-return-results">
<h4>2.15.2.4 OTA return results<a class="headerlink" href="#ota-return-results" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="n">JL_OTAResultSuccess</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="mh">0x00</span><span class="p">,</span><span class="w"> </span><span class="c1">//OTA upgrade succeeded</span>
<span class="n">JL_OTAResultFail</span><span class="w">                </span><span class="o">=</span><span class="w"> </span><span class="mh">0x01</span><span class="p">,</span><span class="w"> </span><span class="c1">//OTA upgrade failed</span>
<span class="n">JL_OTAResultDataIsNull</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="mh">0x02</span><span class="p">,</span><span class="w"> </span><span class="c1">//OTA upgrade data is empty</span>
<span class="n">JL_OTAResultCommandFail</span><span class="w">         </span><span class="o">=</span><span class="w"> </span><span class="mh">0x03</span><span class="p">,</span><span class="w"> </span><span class="c1">//OTA instruction failed</span>
<span class="n">JL_OTAResultSeekFail</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="mh">0x04</span><span class="p">,</span><span class="w"> </span><span class="c1">//OTA mark offset lookup failed</span>
<span class="n">JL_OTAResultInfoFail</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="mh">0x05</span><span class="p">,</span><span class="w"> </span><span class="c1">//OTA upgrade firmware information error</span>
<span class="n">JL_OTAResultLowPower</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="mh">0x06</span><span class="p">,</span><span class="w"> </span><span class="c1">//Low voltage of OTA upgrading equipment</span>
<span class="n">JL_OTAResultEnterFail</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mh">0x07</span><span class="p">,</span><span class="w"> </span><span class="c1">//Failed to enter OTA upgrade mode</span>
<span class="n">JL_OTAResultUpgrading</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mh">0x08</span><span class="p">,</span><span class="w"> </span><span class="c1">//OTA upgrading</span>
<span class="n">JL_OTAResultReconnect</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mh">0x09</span><span class="p">,</span><span class="w"> </span><span class="c1">//OTA needs to reconnect equipment</span>
<span class="n">JL_OTAResultReboot</span><span class="w">              </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0a</span><span class="p">,</span><span class="w"> </span><span class="c1">//OTA requires equipment restart</span>
<span class="n">JL_OTAResultPreparing</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0b</span><span class="p">,</span><span class="w"> </span><span class="c1">//OTA in preparation</span>
<span class="n">JL_OTAResultPrepared</span><span class="w">            </span><span class="o">=</span><span class="w"> </span><span class="mh">0x0f</span><span class="p">,</span><span class="w"> </span><span class="c1">//OTA preparation completed</span>
<span class="n">JL_OTAResultFailVerification</span><span class="w">    </span><span class="o">=</span><span class="w"> </span><span class="mh">0xf1</span><span class="p">,</span><span class="w"> </span><span class="c1">//Failed to verify the upgrade data</span>
<span class="n">JL_OTAResultFailCompletely</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mh">0xf2</span><span class="p">,</span><span class="w"> </span><span class="c1">//Upgrade failed</span>
<span class="n">JL_OTAResultFailKey</span><span class="w">             </span><span class="o">=</span><span class="w"> </span><span class="mh">0xf3</span><span class="p">,</span><span class="w"> </span><span class="c1">//Failed to verify the upgrade data</span>
<span class="n">JL_OTAResultFailErrorFile</span><span class="w">       </span><span class="o">=</span><span class="w"> </span><span class="mh">0xf4</span><span class="p">,</span><span class="w"> </span><span class="c1">//Error upgrading file</span>
<span class="n">JL_OTAResultFailUboot</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mh">0xf5</span><span class="p">,</span><span class="w"> </span><span class="c1">//Uboot mismatch</span>
<span class="n">JL_OTAResultFailLenght</span><span class="w">          </span><span class="o">=</span><span class="w"> </span><span class="mh">0xf6</span><span class="p">,</span><span class="w"> </span><span class="c1">//Error in upgrade process length</span>
<span class="n">JL_OTAResultFailFlash</span><span class="w">           </span><span class="o">=</span><span class="w"> </span><span class="mh">0xf7</span><span class="p">,</span><span class="w"> </span><span class="c1">//Flash read/write failed during upgrade</span>
<span class="n">JL_OTAResultFailCmdTimeout</span><span class="w">      </span><span class="o">=</span><span class="w"> </span><span class="mh">0xf8</span><span class="p">,</span><span class="w"> </span><span class="c1">//Upgrade process instruction timeout</span>
<span class="n">JL_OTAResultFailSameVersion</span><span class="w">     </span><span class="o">=</span><span class="w"> </span><span class="mh">0xf9</span><span class="p">,</span><span class="w"> </span><span class="c1">//Same version</span>
<span class="n">JL_OTAResultFailTWSDisconnect</span><span class="w">   </span><span class="o">=</span><span class="w"> </span><span class="mh">0xfa</span><span class="p">,</span><span class="w"> </span><span class="c1">//TWS headset not connected</span>
<span class="n">JL_OTAResultFailNotInBin</span><span class="w">        </span><span class="o">=</span><span class="w"> </span><span class="mh">0xfb</span><span class="p">,</span><span class="w"> </span><span class="c1">//The headset is not in the charging compartment</span>
<span class="n">JL_OTAResultUnknown</span><span class="p">,</span><span class="w">                    </span><span class="c1">//OTA unknown error</span>
</pre></div>
</div>
</section>
<section id="get-md5-data">
<h4>2.15.2.5 Get MD5 data<a class="headerlink" href="#get-md5-data" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="cp">#pragma mark Get MD5 data</span>
<span class="p">+(</span><span class="kt">void</span><span class="p">)</span><span class="nf">cmdGetMD5_Result:</span><span class="p">(</span><span class="n">JL_CMD_BK</span><span class="w"> </span><span class="n">__nullable</span><span class="p">)</span><span class="nv">result</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="proofread-the-version-and-obtain-the-upgrade-file">
<h4>2.15.2.6 Proofread the version and obtain the upgrade file<a class="headerlink" href="#proofread-the-version-and-obtain-the-upgrade-file" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="p">-(</span><span class="kt">void</span><span class="p">)</span><span class="nf">checkVersion</span><span class="p">{</span><span class="w"></span>

<span class="cp">#if (LT==0)</span>

<span class="c1">//    //new version</span>
<span class="c1">//    self-&gt;shouldUp = YES;</span>
<span class="c1">//    self-&gt;downloadUrl = [JL_Tools find:@&quot;update_yx_hp_93.ufw&quot;];</span>
<span class="c1">//    savePath = [JL_Tools find:@&quot;update_yx_hp_93.ufw&quot;];</span>
<span class="c1">//    dispatch_async(dispatch_get_main_queue(), ^{</span>
<span class="c1">//        [self-&gt;upgradeView initWithNews:@&quot;1.0.0.0&quot; tips:@&quot;Upgrade test&quot;];</span>
<span class="c1">//        [self.view addSubview:self-&gt;upgradeView];</span>
<span class="c1">//    });</span>
<span class="c1">//    [self.upgradeTable reloadData];</span>
<span class="c1">//    return;</span>

<span class="w">    </span><span class="n">JLModel_Device</span><span class="w"> </span><span class="o">*</span><span class="n">model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">otaEntity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">outputDeviceModel</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">model</span><span class="p">.</span><span class="n">md5Type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="nb">YES</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="cm">/*---- OTA upgrade uses MD5 verification ----*/</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">otaEntity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">cmdGetMD5_Result</span><span class="o">:^</span><span class="p">(</span><span class="bp">NSArray</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">array</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">array</span><span class="p">.</span><span class="n">count</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="bp">NSData</span><span class="w"> </span><span class="o">*</span><span class="n">data_md5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span><span class="w"></span>
<span class="w">                </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">str_md5</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="bp">NSString</span><span class="w"> </span><span class="n">alloc</span><span class="p">]</span><span class="w"> </span><span class="n">initWithData</span><span class="o">:</span><span class="n">data_md5</span><span class="w"> </span><span class="n">encoding</span><span class="o">:</span><span class="n">NSUTF8StringEncoding</span><span class="p">];</span><span class="w"></span>
<span class="w">                </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;MD5 ----&gt; %@&quot;</span><span class="p">,</span><span class="n">str_md5</span><span class="p">);</span><span class="w"></span>
<span class="w">                </span><span class="c1">//NSString* test = @&quot;eb5eaa7e89664adc2c840230fc494656&quot;;</span>
<span class="w">                </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">otaEntity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">cmdGetOtaFileKey</span><span class="o">:</span><span class="n">model</span><span class="p">.</span><span class="n">authKey</span><span class="w"> </span><span class="n">Code</span><span class="o">:</span><span class="n">model</span><span class="p">.</span><span class="n">proCode</span><span class="w"> </span><span class="n">hash</span><span class="o">:</span><span class="n">str_md5</span><span class="w"></span>
<span class="w">                                      </span><span class="nl">Result</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">JL_OTAUrlResult</span><span class="w"> </span><span class="n">result</span><span class="p">,</span><span class="w"></span>
<span class="w">                                               </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">version</span><span class="p">,</span><span class="w"></span>
<span class="w">                                               </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">url</span><span class="p">,</span><span class="w"></span>
<span class="w">                                               </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">explain</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                    </span><span class="p">[</span><span class="nb">self</span><span class="w"> </span><span class="n">updateWithOTAResult</span><span class="o">:</span><span class="n">result</span><span class="w"> </span><span class="n">Version</span><span class="o">:</span><span class="n">version</span><span class="w"> </span><span class="n">Url</span><span class="o">:</span><span class="n">url</span><span class="w"> </span><span class="n">Explain</span><span class="o">:</span><span class="n">explain</span><span class="p">];</span><span class="w"></span>
<span class="w">                </span><span class="p">}];</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}];</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="cm">/*--- Traditional OTA upgrade ---*/</span><span class="w"></span>
<span class="w">        </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">authKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">@&quot;&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">proCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">@&quot;&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">([</span><span class="n">model</span><span class="p">.</span><span class="n">authKey</span><span class="w"> </span><span class="n">isEqualToString</span><span class="o">:</span><span class="s">@&quot;&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">[</span><span class="n">model</span><span class="p">.</span><span class="n">proCode</span><span class="w"> </span><span class="n">isEqualToString</span><span class="o">:</span><span class="s">@&quot;&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">            </span><span class="n">DeviceModel</span><span class="w"> </span><span class="o">*</span><span class="n">m1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">SqliteManager</span><span class="w"> </span><span class="n">sharedInstance</span><span class="p">]</span><span class="w"> </span><span class="n">checkoutDeviceModelBy</span><span class="o">:</span><span class="nb">self</span><span class="p">.</span><span class="n">otaEntity</span><span class="p">.</span><span class="n">mUUID</span><span class="p">];</span><span class="w"></span>
<span class="w">            </span><span class="n">authKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m1</span><span class="p">.</span><span class="n">authKey</span><span class="p">;</span><span class="w"></span>
<span class="w">            </span><span class="n">proCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m1</span><span class="p">.</span><span class="n">proCode</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="n">authKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">model</span><span class="p">.</span><span class="n">authKey</span><span class="p">;</span><span class="w"></span>
<span class="w">            </span><span class="n">proCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">model</span><span class="p">.</span><span class="n">proCode</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">otaEntity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">cmdGetOtaFileKey</span><span class="o">:</span><span class="n">authKey</span><span class="w"> </span><span class="n">Code</span><span class="o">:</span><span class="n">proCode</span><span class="w"></span>
<span class="w">                              </span><span class="nl">Result</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">JL_OTAUrlResult</span><span class="w"> </span><span class="n">result</span><span class="p">,</span><span class="w"></span>
<span class="w">                                       </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">version</span><span class="p">,</span><span class="w"></span>
<span class="w">                                       </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">url</span><span class="p">,</span><span class="w"></span>
<span class="w">                                       </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">_Nullable</span><span class="w"> </span><span class="n">explain</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="p">[</span><span class="nb">self</span><span class="w"> </span><span class="n">updateWithOTAResult</span><span class="o">:</span><span class="n">result</span><span class="w"> </span><span class="n">Version</span><span class="o">:</span><span class="n">version</span><span class="w"> </span><span class="n">Url</span><span class="o">:</span><span class="n">url</span><span class="w"> </span><span class="n">Explain</span><span class="o">:</span><span class="n">explain</span><span class="p">];</span><span class="w"></span>
<span class="w">        </span><span class="p">}];</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="cp">#else</span>
<span class="w">    </span><span class="n">JLModel_Device</span><span class="w"> </span><span class="o">*</span><span class="n">model</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">otaEntity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">outputDeviceModel</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">authKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">@&quot;&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">proCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">@&quot;&quot;</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">([</span><span class="n">model</span><span class="p">.</span><span class="n">authKey</span><span class="w"> </span><span class="n">isEqualToString</span><span class="o">:</span><span class="s">@&quot;&quot;</span><span class="p">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="p">[</span><span class="n">model</span><span class="p">.</span><span class="n">proCode</span><span class="w"> </span><span class="n">isEqualToString</span><span class="o">:</span><span class="s">@&quot;&quot;</span><span class="p">]</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>

<span class="w">        </span><span class="n">DeviceModel</span><span class="w"> </span><span class="o">*</span><span class="n">m1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[[</span><span class="n">SqliteManager</span><span class="w"> </span><span class="n">sharedInstance</span><span class="p">]</span><span class="w"> </span><span class="n">checkoutDeviceModelBy</span><span class="o">:</span><span class="nb">self</span><span class="p">.</span><span class="n">otaEntity</span><span class="p">.</span><span class="n">mUUID</span><span class="p">];</span><span class="w"></span>
<span class="w">        </span><span class="n">authKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m1</span><span class="p">.</span><span class="n">authKey</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="n">proCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m1</span><span class="p">.</span><span class="n">proCode</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="k">else</span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="n">authKey</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">model</span><span class="p">.</span><span class="n">authKey</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span><span class="n">proCode</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">model</span><span class="p">.</span><span class="n">proCode</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="c1">//new version</span>
<span class="w">    </span><span class="n">shouldUp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">YES</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="bp">NSString</span><span class="w"> </span><span class="o">*</span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">NSSearchPathForDirectoriesInDomains</span><span class="p">(</span><span class="n">NSDocumentDirectory</span><span class="p">,</span><span class="w"> </span><span class="n">NSUserDomainMask</span><span class="p">,</span><span class="w"> </span><span class="nb">YES</span><span class="p">)</span><span class="w"> </span><span class="n">firstObject</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">path</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="n">path</span><span class="w"> </span><span class="n">stringByAppendingPathComponent</span><span class="o">:</span><span class="s">@&quot;update.ufw&quot;</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="n">savePath</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">path</span><span class="p">;</span><span class="w"></span>

<span class="w">    </span><span class="p">[</span><span class="n">upgradeView</span><span class="w"> </span><span class="n">initWithNews</span><span class="o">:</span><span class="s">@&quot;Max&quot;</span><span class="w"> </span><span class="n">tips</span><span class="o">:</span><span class="s">@&quot;无限制升级&quot;</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">view</span><span class="w"> </span><span class="n">addSubview</span><span class="o">:</span><span class="n">upgradeView</span><span class="p">];</span><span class="w"></span>


<span class="cp">#endif</span>

<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</section>
<section id="perform-ota-upgrade">
<h4>2.15.2.7 Perform OTA upgrade<a class="headerlink" href="#perform-ota-upgrade" title="Permalink to this headline"></a></h4>
<div class="highlight-objectivec notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="nb">self</span><span class="p">.</span><span class="n">otaEntity</span><span class="p">.</span><span class="n">mCmdManager</span><span class="w"> </span><span class="n">cmdOTAData</span><span class="o">:</span><span class="n">data</span><span class="w"> </span><span class="n">Result</span><span class="o">:^</span><span class="p">(</span><span class="n">JL_OTAResult</span><span class="w"> </span><span class="n">result</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">progress</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_OTAResultSuccess</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="nb">self</span><span class="o">-&gt;</span><span class="n">transportView</span><span class="w"> </span><span class="n">update</span><span class="o">:</span><span class="mf">1.0</span><span class="w"> </span><span class="n">Text</span><span class="o">:</span><span class="nb">nil</span><span class="p">];</span><span class="w"></span>
<span class="w">        </span><span class="nb">self</span><span class="o">-&gt;</span><span class="n">transportView</span><span class="p">.</span><span class="n">alpha</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w"></span>

<span class="w">        </span><span class="p">[[</span><span class="n">JLUI_Cache</span><span class="w"> </span><span class="n">sharedInstance</span><span class="p">]</span><span class="w"> </span><span class="n">setOtaUUID</span><span class="o">:</span><span class="nb">nil</span><span class="p">];</span><span class="w"></span>

<span class="w">        </span><span class="p">[</span><span class="n">weakSelf</span><span class="w"> </span><span class="n">upgradeFinish</span><span class="p">];</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_OTAResultFail</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="n">weakSelf</span><span class="w"> </span><span class="n">failedWithAction</span><span class="o">:</span><span class="n">kJL_TXT</span><span class="p">(</span><span class="s">&quot;OTA upgrade failed&quot;</span><span class="p">)];</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_OTAResultDataIsNull</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="n">weakSelf</span><span class="w"> </span><span class="n">failedWithAction</span><span class="o">:</span><span class="n">kJL_TXT</span><span class="p">(</span><span class="s">&quot;OTA upgrade data is empty!&quot;</span><span class="p">)];</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_OTAResultCommandFail</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="n">weakSelf</span><span class="w"> </span><span class="n">failedWithAction</span><span class="o">:</span><span class="n">kJL_TXT</span><span class="p">(</span><span class="s">&quot;OTA instruction failed!&quot;</span><span class="p">)];</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_OTAResultSeekFail</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="n">weakSelf</span><span class="w"> </span><span class="n">failedWithAction</span><span class="o">:</span><span class="n">kJL_TXT</span><span class="p">(</span><span class="s">&quot;OTA mark offset lookup failed!&quot;</span><span class="p">)];</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_OTAResultInfoFail</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="n">weakSelf</span><span class="w"> </span><span class="n">failedWithAction</span><span class="o">:</span><span class="n">kJL_TXT</span><span class="p">(</span><span class="s">&quot;OTA upgrade firmware information error!&quot;</span><span class="p">)];</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_OTAResultLowPower</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="n">weakSelf</span><span class="w"> </span><span class="n">failedWithAction</span><span class="o">:</span><span class="n">kJL_TXT</span><span class="p">(</span><span class="s">&quot;Low voltage of OTA upgrading equipment!&quot;</span><span class="p">)];</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_OTAResultEnterFail</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="n">weakSelf</span><span class="w"> </span><span class="n">failedWithAction</span><span class="o">:</span><span class="n">kJL_TXT</span><span class="p">(</span><span class="s">&quot;Failed to enter OTA upgrade mode!&quot;</span><span class="p">)];</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_OTAResultUnknown</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="n">weakSelf</span><span class="w"> </span><span class="n">failedWithAction</span><span class="o">:</span><span class="n">kJL_TXT</span><span class="p">(</span><span class="s">&quot;OTA unknown error!&quot;</span><span class="p">)];</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_OTAResultFailSameVersion</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="n">weakSelf</span><span class="w"> </span><span class="n">failedWithAction</span><span class="o">:</span><span class="n">kJL_TXT</span><span class="p">(</span><span class="s">&quot;Same version！&quot;</span><span class="p">)];</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_OTAResultFailTWSDisconnect</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="n">weakSelf</span><span class="w"> </span><span class="n">failedWithAction</span><span class="o">:</span><span class="n">kJL_TXT</span><span class="p">(</span><span class="s">&quot;TWS headset not connected&quot;</span><span class="p">)];</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_OTAResultFailNotInBin</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="n">weakSelf</span><span class="w"> </span><span class="n">failedWithAction</span><span class="o">:</span><span class="n">kJL_TXT</span><span class="p">(</span><span class="s">&quot;The headset is not in the charging compartment&quot;</span><span class="p">)];</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_OTAResultPreparing</span><span class="w"> </span><span class="o">||</span><span class="w"></span>
<span class="w">        </span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_OTAResultUpgrading</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_OTAResultUpgrading</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="nb">self</span><span class="o">-&gt;</span><span class="n">transportView</span><span class="w"> </span><span class="n">update</span><span class="o">:</span><span class="n">progress</span><span class="w"> </span><span class="n">Text</span><span class="o">:</span><span class="n">kJL_TXT</span><span class="p">(</span><span class="s">&quot;Upgrading&quot;</span><span class="p">)];</span><span class="w"></span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_OTAResultPreparing</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="nb">self</span><span class="o">-&gt;</span><span class="n">transportView</span><span class="w"> </span><span class="n">update</span><span class="o">:</span><span class="n">progress</span><span class="w"> </span><span class="n">Text</span><span class="o">:</span><span class="s">@&quot;Inspection documents&quot;</span><span class="p">];</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="nb">self</span><span class="w"> </span><span class="n">otaTimeCheck</span><span class="p">];</span><span class="c1">//Increase timeout detection</span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_OTAResultPrepared</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="nb">self</span><span class="w"> </span><span class="n">otaTimeCheck</span><span class="p">];</span><span class="c1">//Increase timeout detection</span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">result</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">JL_OTAResultReconnect</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="nb">self</span><span class="w"> </span><span class="n">otaTimeCheck</span><span class="p">];</span><span class="c1">//Increase timeout detection</span>

<span class="w">        </span><span class="n">NSLog</span><span class="p">(</span><span class="s">@&quot;---&gt; OTA is connecting the device back... %@&quot;</span><span class="p">,</span><span class="nb">self</span><span class="p">.</span><span class="n">otaEntity</span><span class="p">.</span><span class="n">mItem</span><span class="p">);</span><span class="w"></span>
<span class="w">        </span><span class="p">[</span><span class="nb">self</span><span class="o">-&gt;</span><span class="n">bleSDK</span><span class="p">.</span><span class="n">mBleMultiple</span><span class="w"> </span><span class="n">connectEntity</span><span class="o">:</span><span class="nb">self</span><span class="p">.</span><span class="n">otaEntity</span><span class="w"> </span><span class="n">Result</span><span class="o">:^</span><span class="p">(</span><span class="n">JL_EntityM_Status</span><span class="w"> </span><span class="n">status</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">status</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="n">JL_EntityM_StatusPaired</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">                </span><span class="p">[</span><span class="n">weakSelf</span><span class="w"> </span><span class="n">failedWithAction</span><span class="o">:</span><span class="n">kJL_TXT</span><span class="p">(</span><span class="s">&quot;OTA upgrade timeout&quot;</span><span class="p">)];</span><span class="w"></span>
<span class="w">            </span><span class="p">}</span><span class="w"></span>
<span class="w">        </span><span class="p">}];</span><span class="w"></span>
<span class="w">    </span><span class="p">}</span><span class="w"></span>
<span class="p">}];</span><span class="w"></span>
</pre></div>
</div>
</section>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="import_desc.html" class="btn btn-neutral float-left" title="1.Access Process" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="browse_desc.html" class="btn btn-neutral float-right" title="3 Directory Browse" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Zhuhai Jieli Technology Co., Ltd.
      <span class="lastupdated">Last updated on Nov 22, 2023.
      </span></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>